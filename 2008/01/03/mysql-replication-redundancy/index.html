<!doctype html><html lang=en-us><head><meta http-equiv=x-clacks-overhead content="GNU Terry Pratchett"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=https://major.io/favicon.ico><title>MySQL Replication: Redundancy | Major Hayden's Blog ðŸ¤ </title><meta name=title content="MySQL Replication: Redundancy"><meta name=description content="Although performance is a much larger benefit of replication, it provides some redundancy for your application as well. Adding a slave server to a master allows you to perform read operations on either server, but you&rsquo;re still bound to the master server for writes. In a group of multiple slaves with one master, you have your data available and online in multiple locations, which means that certain servers can fall out of replication without a large disaster."><meta name=keywords content="database,mysql,"><meta property="og:title" content="MySQL Replication: Redundancy"><meta property="og:description" content="Although performance is a much larger benefit of replication, it provides some redundancy for your application as well. Adding a slave server to a master allows you to perform read operations on either server, but you&rsquo;re still bound to the master server for writes. In a group of multiple slaves with one master, you have your data available and online in multiple locations, which means that certain servers can fall out of replication without a large disaster."><meta property="og:type" content="article"><meta property="og:url" content="https://major.io/2008/01/03/mysql-replication-redundancy/"><meta property="og:image" content="https://major.io/images/2019-05-24-cranes-skycrapers.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2008-01-04T02:39:11+00:00"><meta property="article:modified_time" content="2008-01-04T02:39:11+00:00"><meta property="og:site_name" content="Major Hayden's Blog ðŸ¤ "><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://major.io/images/2019-05-24-cranes-skycrapers.jpg"><meta name=twitter:title content="MySQL Replication: Redundancy"><meta name=twitter:description content="Although performance is a much larger benefit of replication, it provides some redundancy for your application as well. Adding a slave server to a master allows you to perform read operations on either server, but you&rsquo;re still bound to the master server for writes. In a group of multiple slaves with one master, you have your data available and online in multiple locations, which means that certain servers can fall out of replication without a large disaster."><meta name=twitter:site content="@mhayden"><meta itemprop=name content="MySQL Replication: Redundancy"><meta itemprop=description content="Although performance is a much larger benefit of replication, it provides some redundancy for your application as well. Adding a slave server to a master allows you to perform read operations on either server, but you&rsquo;re still bound to the master server for writes. In a group of multiple slaves with one master, you have your data available and online in multiple locations, which means that certain servers can fall out of replication without a large disaster."><meta itemprop=datePublished content="2008-01-04T02:39:11+00:00"><meta itemprop=dateModified content="2008-01-04T02:39:11+00:00"><meta itemprop=wordCount content="311"><meta itemprop=image content="https://major.io/images/2019-05-24-cranes-skycrapers.jpg"><meta itemprop=keywords content="database,mysql,"><meta name=referrer content="no-referrer-when-downgrade"><style>body{font-family:Verdana,sans-serif;margin:auto;padding:20px;max-width:820px;text-align:left;background-color:#fff;word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:#444}h1,h2,h3,h4,h5,h6,strong,b{color:#222}a{color:#3273dc}.title{text-decoration:none;border:0}.title span{font-weight:400}nav a{margin-right:10px}textarea{width:100%;font-size:16px}input{font-size:16px}content{line-height:1.6}table{width:100%}img{max-width:100%}code{padding:2px 5px;background-color:#f2f2f2}pre code{color:#222;display:block;padding:20px;white-space:pre-wrap;font-size:14px}div.highlight code{background-color:unset;color:initial}blockquote{border-left:1px solid #999;color:#222;padding-left:20px;font-style:italic}footer{padding:25px;text-align:center}.helptext{color:#777;font-size:small}.errorlist{color:#eba613;font-size:small}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 130px}ul.blog-posts li a:visited{color:#8b6fcb}@media(prefers-color-scheme:dark){body{background-color:#333;color:#ddd}h1,h2,h3,h4,h5,h6,strong,b{color:#eee}a{color:#8cc2dd}code{background-color:#777}pre code{color:#ddd}blockquote{color:#ccc}textarea,input{background-color:#252525;color:#ddd}.helptext{color:#aaa}}</style></head><body><header><a href=../../../../ class=title><h2>Major Hayden's Blog ðŸ¤ </h2></a><nav><a href=../../../../>Home</a>
<a href=../../../../ham-radio-faq>Ham Radio</a>
<a href=../../../../icanhazip-com-faq>icanhazip FAQ</a>
<a href=../../../../posts>Posts</a></nav></header><main><h1>MySQL Replication: Redundancy</h1><i><time datetime=2008-01-04 pubdate>2008-01-04</time></i>
<content><p>Although performance is a much larger benefit of replication, it provides some redundancy for your application as well. Adding a slave server to a master allows you to perform read operations on either server, but you&rsquo;re still bound to the master server for writes. In a group of multiple slaves with one master, you have your data available and online in multiple locations, which means that certain servers can fall out of replication without a large disaster.</p><p>When disaster does occur, use the following recommendations as a guide.</p><p><strong>If the master fails in a two-server replication environment,</strong> you will be dead in the water with regards to write queries. You will need to convert the slave into a master. This can be done relatively quickly by following these steps:</p><ol><li>Log into MySQL on the slave and run <code>STOP SLAVE; RESET SLAVE;</code></li><li>Add <code>log-bin</code> to the slave&rsquo;s /etc/my.cnf file and restart MySQL</li><li>The slave server will now be running as a master</li><li>Adjust your application to send reads and writes to the slave</li></ol><p>Once the original master comes back online, <a href=http://rackerhacker.com/2007/12/31/seven-step-mysql-replication/>set it up just like a new slave</a>. You can skip some steps, such as setting the server-id, since that still should correspond to your overall configuration.</p><p><strong>If the master fails in a multiple-server replication environment,</strong> you&rsquo;re still in bad shape for writes. Follow the steps shown above, and then adjust the other slaves (with <code>CHANGE MASTER</code>) so that they pull events from the new master instead.</p><p><strong>If a slave fails in any replication environment,</strong> adjust your application so that it no longer attempts to send reads to the failed slave. While you work to bring the failed slave back online, your queries will be distributed to the remaining servers.</p><p>You can automate many of these operations by using applications like <a href=http://www.linux-ha.org/>heartbeat</a>, or by using load balancers to automatically route database traffic.</p></content><p><a href=https://major.io/tags/database/>#database</a>
<a href=https://major.io/tags/mysql/>#mysql</a></p></main><footer><hr>CC-BY-SA 4.0 &#187;
Made with <a href=https://gohugo.io/>Hugo</a> &#187;
Theme based on <a href=https://github.com/janraasch/hugo-bearblog/>Hugo Ê•â€¢á´¥â€¢Ê” Bear</a><br></footer></body></html>