<!doctype html><html lang=en-us><head><meta http-equiv=x-clacks-overhead content="GNU Terry Pratchett"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=https://major.io/favicon.ico><title>Exporting SSL certificates from Windows to Linux | Major Hayden's Blog ðŸ¤ </title><meta name=title content="Exporting SSL certificates from Windows to Linux"><meta name=description content="First, you have to get the certificate and key out of Windows in a pfx (PKCS #12) format.
 Click Start, Run, then type &ldquo;mmc&rdquo; and hit enter. In the leftmost menu, choose &ldquo;Add/Remove Snap In&rdquo;. Click &ldquo;Add&rdquo;, then click &ldquo;Certificates&rdquo;, then OK. When the wizard starts, choose &ldquo;Computer Account&rdquo;, &ldquo;Local Computer&rdquo; and finish out the wizard. Once you&rsquo;re finished, get back to the MMC and expand the &ldquo;Certificates&rdquo; node, then the &ldquo;Personal&rdquo; node."><meta name=keywords content="command line,security,web,"><meta property="og:title" content="Exporting SSL certificates from Windows to Linux"><meta property="og:description" content="First, you have to get the certificate and key out of Windows in a pfx (PKCS #12) format.
 Click Start, Run, then type &ldquo;mmc&rdquo; and hit enter. In the leftmost menu, choose &ldquo;Add/Remove Snap In&rdquo;. Click &ldquo;Add&rdquo;, then click &ldquo;Certificates&rdquo;, then OK. When the wizard starts, choose &ldquo;Computer Account&rdquo;, &ldquo;Local Computer&rdquo; and finish out the wizard. Once you&rsquo;re finished, get back to the MMC and expand the &ldquo;Certificates&rdquo; node, then the &ldquo;Personal&rdquo; node."><meta property="og:type" content="article"><meta property="og:url" content="https://major.io/2007/03/23/exporting-ssl-certificates-from-windows-to-linux/"><meta property="og:image" content="https://major.io/images/2019-05-24-cranes-skycrapers.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2007-03-23T13:11:16+00:00"><meta property="article:modified_time" content="2007-03-23T13:11:16+00:00"><meta property="og:site_name" content="Major Hayden's Blog ðŸ¤ "><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://major.io/images/2019-05-24-cranes-skycrapers.jpg"><meta name=twitter:title content="Exporting SSL certificates from Windows to Linux"><meta name=twitter:description content="First, you have to get the certificate and key out of Windows in a pfx (PKCS #12) format.
 Click Start, Run, then type &ldquo;mmc&rdquo; and hit enter. In the leftmost menu, choose &ldquo;Add/Remove Snap In&rdquo;. Click &ldquo;Add&rdquo;, then click &ldquo;Certificates&rdquo;, then OK. When the wizard starts, choose &ldquo;Computer Account&rdquo;, &ldquo;Local Computer&rdquo; and finish out the wizard. Once you&rsquo;re finished, get back to the MMC and expand the &ldquo;Certificates&rdquo; node, then the &ldquo;Personal&rdquo; node."><meta name=twitter:site content="@mhayden"><meta itemprop=name content="Exporting SSL certificates from Windows to Linux"><meta itemprop=description content="First, you have to get the certificate and key out of Windows in a pfx (PKCS #12) format.
 Click Start, Run, then type &ldquo;mmc&rdquo; and hit enter. In the leftmost menu, choose &ldquo;Add/Remove Snap In&rdquo;. Click &ldquo;Add&rdquo;, then click &ldquo;Certificates&rdquo;, then OK. When the wizard starts, choose &ldquo;Computer Account&rdquo;, &ldquo;Local Computer&rdquo; and finish out the wizard. Once you&rsquo;re finished, get back to the MMC and expand the &ldquo;Certificates&rdquo; node, then the &ldquo;Personal&rdquo; node."><meta itemprop=datePublished content="2007-03-23T13:11:16+00:00"><meta itemprop=dateModified content="2007-03-23T13:11:16+00:00"><meta itemprop=wordCount content="504"><meta itemprop=image content="https://major.io/images/2019-05-24-cranes-skycrapers.jpg"><meta itemprop=keywords content="command line,security,web,"><meta name=referrer content="no-referrer-when-downgrade"><style>body{font-family:Verdana,sans-serif;margin:auto;padding:20px;max-width:820px;text-align:left;background-color:#fff;word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:#444}h1,h2,h3,h4,h5,h6,strong,b{color:#222}a{color:#3273dc}.title{text-decoration:none;border:0}.title span{font-weight:400}nav a{margin-right:10px}textarea{width:100%;font-size:16px}input{font-size:16px}content{line-height:1.6}table{width:100%}img{max-width:100%}code{padding:2px 5px;background-color:#f2f2f2}pre code{color:#222;display:block;padding:20px;white-space:pre-wrap;font-size:14px}div.highlight code{background-color:unset;color:initial}blockquote{border-left:1px solid #999;color:#222;padding-left:20px;font-style:italic}footer{padding:25px;text-align:center}.helptext{color:#777;font-size:small}.errorlist{color:#eba613;font-size:small}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 130px}ul.blog-posts li a:visited{color:#8b6fcb}@media(prefers-color-scheme:dark){body{background-color:#333;color:#ddd}h1,h2,h3,h4,h5,h6,strong,b{color:#eee}a{color:#8cc2dd}code{background-color:#777}pre code{color:#ddd}blockquote{color:#ccc}textarea,input{background-color:#252525;color:#ddd}.helptext{color:#aaa}}</style></head><body><header><a href=../../../../ class=title><h2>Major Hayden's Blog ðŸ¤ </h2></a><nav><a href=../../../../>Home</a>
<a href=../../../../ham-radio-faq>Ham Radio</a>
<a href=../../../../icanhazip-com-faq>icanhazip FAQ</a>
<a href=../../../../posts>Posts</a></nav><script async src=https://media.ethicalads.io/media/client/ethicalads.min.js></script><div class="adaptive raised" data-ea-publisher=major-io data-ea-type=text></div></header><main><h1>Exporting SSL certificates from Windows to Linux</h1><i><time datetime=2007-03-23 pubdate>2007-03-23</time></i>
<content><p>First, you have to get the certificate and key out of Windows in a pfx (PKCS #12) format.</p><ul><li>Click Start, Run, then type &ldquo;mmc&rdquo; and hit enter.</li><li>In the leftmost menu, choose &ldquo;Add/Remove Snap In&rdquo;.</li><li>Click &ldquo;Add&rdquo;, then click &ldquo;Certificates&rdquo;, then OK.</li><li>When the wizard starts, choose &ldquo;Computer Account&rdquo;, &ldquo;Local Computer&rdquo; and finish out the wizard.</li><li>Once you&rsquo;re finished, get back to the MMC and expand the &ldquo;Certificates&rdquo; node, then the &ldquo;Personal&rdquo; node.</li><li>Click on the &ldquo;Certificates&rdquo; node under &ldquo;Personal&rdquo; and find your certificate in the right pane.</li><li>Right click on the certificate and choose &ldquo;All Tasks&rdquo;, then &ldquo;Export&rdquo;.</li><li>When the wizard starts, choose &ldquo;Yes&rdquo; for exporting the private key, then select <strong>ONLY</strong> &ldquo;Strong Private Key Protection&rdquo; from the PFX section. You will also need to set a password and specify a location for the PFX file.</li><li>Once the PFX file has been saved, close out the MMC (don&rsquo;t save the snap-in if it asks).</li><li>Get the PFX over to the Linux server somehow.</li></ul><p>Once the PFX makes it over to the Linux server, you have to decrypt the PFX into a plaintext PEM file (PFX&rsquo;s are binary files, and can&rsquo;t be viewed in a text editor):</p><pre><code>openssl pkcs12 -in file.pfx -out file.pem
</code></pre><p>You will be asked for the password for the PFX (which is the one you set in the Windows wizard). Once you enter that, you will be asked for a new password. This new password is used to encrypt the private key. You cannot proceed until you enter a password that is 4 characters or longer. <strong>REMEMBER</strong> this password!</p><p>When this step is complete, you should have a PEM file that you can read in a text editor. Open the file in a text editor and copy the private key and certificate to different files. Remember to keep the dashed lines intact when you copy the certificates - this is important. There is some additional text above the key, and also between the key and certificate - this text should be ignored and should not be included in the certificate and key files.</p><p>Now that you have the key and certificate separated, you need to decrypt the private key (or face the wrath of Apache every time you restart the server). You can decrypt the private key like this:</p><pre><code>openssl rsa -in file.key -out file.key
</code></pre><p>Yes, provide the same file name twice and it will decrypt the key onto itself, keeping everything in one file. OpenSSL will ask for a password to decrypt the key, and this is the password you set when you decrypted the PFX. If you forgot the password, you will need to start over from when you brought it over from the Windows box.</p><p>After this entire process, you will have four files, a PFX, PEM, KEY, and CRT. Throw away the PFX and PEM, and you can use the key and certificate files to install into Apache. In case you forget the syntax, here&rsquo;s what goes in the Apache configuration:</p><pre><code>SSLEngine On
SSLCertificateFile /path/to/your/certificate
SSLCertificateKeyFile /path/to/your/privatekey
</code></pre></content><p><a href=https://major.io/tags/command-line/>#command line</a>
<a href=https://major.io/tags/security/>#security</a>
<a href=https://major.io/tags/web/>#web</a></p></main><footer><hr>CC-BY-SA 4.0 &#187;
Made with <a href=https://gohugo.io/>Hugo</a> &#187;
Theme based on <a href=https://github.com/janraasch/hugo-bearblog/>Hugo Ê•â€¢á´¥â€¢Ê” Bear</a><br></footer></body></html>