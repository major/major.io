<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content="Major Hayden"><meta name=description content="First, you have to get the certificate and key out of Windows in a pfx (PKCS #12) format.
 Click Start, Run, then type &amp;ldquo;mmc&amp;rdquo; and hit enter. In the leftmost menu, choose &amp;ldquo;Add/Remove Snap In&amp;rdquo;. Click &amp;ldquo;Add&amp;rdquo;, then click &amp;ldquo;Certificates&amp;rdquo;, then OK. When the wizard starts, choose &amp;ldquo;Computer Account&amp;rdquo;, &amp;ldquo;Local Computer&amp;rdquo; and finish out the wizard. Once you&amp;rsquo;re finished, get back to the MMC and expand the &amp;ldquo;Certificates&amp;rdquo; node, then the &amp;ldquo;Personal&amp;rdquo; node."><meta name=keywords content=",command line,security,web"><meta name=robots content="noodp"><meta name=theme-color content><link rel=canonical href=https://major.io/2007/03/23/exporting-ssl-certificates-from-windows-to-linux/><title>Exporting SSL certificates from Windows to Linux :: Major Hayden ðŸ¤  â€” Words of wisdom from a social nerd</title><link href=https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css rel=stylesheet type=text/css><link rel=stylesheet href=../../../../main.89fa80e2143f71bd5c96a7c94e531dec3276a367e22f87e74a76026ab64680bf.css><link rel=apple-touch-icon sizes=180x180 href=../../../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../../../favicon-16x16.png><link rel=manifest href=../../../../site.webmanifest><link rel=mask-icon href=../../../../safari-pinned-tab.svg color=#252627><link rel="shortcut icon" href=../../../../favicon.ico><meta name=msapplication-TileColor content="#252627"><meta name=theme-color content="#252627"><meta itemprop=name content="Exporting SSL certificates from Windows to Linux"><meta itemprop=description content="First, you have to get the certificate and key out of Windows in a pfx (PKCS #12) format.
 Click Start, Run, then type &ldquo;mmc&rdquo; and hit enter. In the leftmost menu, choose &ldquo;Add/Remove Snap In&rdquo;. Click &ldquo;Add&rdquo;, then click &ldquo;Certificates&rdquo;, then OK. When the wizard starts, choose &ldquo;Computer Account&rdquo;, &ldquo;Local Computer&rdquo; and finish out the wizard. Once you&rsquo;re finished, get back to the MMC and expand the &ldquo;Certificates&rdquo; node, then the &ldquo;Personal&rdquo; node."><meta itemprop=datePublished content="2007-03-23T13:11:16+00:00"><meta itemprop=dateModified content="2007-03-23T13:11:16+00:00"><meta itemprop=wordCount content="504"><meta itemprop=image content="https://major.io"><meta itemprop=keywords content="command line,security,web,"><meta property="article:section" content="Blog Posts"><meta property="article:published_time" content="2007-03-23 13:11:16 +0000 UTC"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Exporting SSL certificates from Windows to Linux :: Major Hayden ðŸ¤ "><meta name=twitter:description content><meta name=twitter:site content="https://major.io"><meta name=twitter:creator content="Major Hayden"><meta name=twitter:image content><style type=text/css>html{letter-spacing:unset}</style></head><body class=dark-theme><div class=container><header class=header><span class=header__inner><a href=../../../../ style=text-decoration:none><div class=logo><span class=logo__mark>></span>
<span class=logo__text>$ echo major.io</span>
<span class=logo__cursor style=visibility:hidden></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=../../../../ham-radio-faq>hamradio</a></li><li><a href=../../../../icanhazip-com-faq>icanhazip</a></li><li><a href=../../../../posts/>posts</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span><span class="theme-toggle unselectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 41C32.4934 41 41 32.4934 41 22 41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg></span></span></span></header><div class=content><main class=post><div class=post-info></p></div><article><h2 class=post-title><a href=https://major.io/2007/03/23/exporting-ssl-certificates-from-windows-to-linux/>Exporting SSL certificates from Windows to Linux</a></h2><div class=post-content><p>First, you have to get the certificate and key out of Windows in a pfx (PKCS #12) format.</p><ul><li>Click Start, Run, then type &ldquo;mmc&rdquo; and hit enter.</li><li>In the leftmost menu, choose &ldquo;Add/Remove Snap In&rdquo;.</li><li>Click &ldquo;Add&rdquo;, then click &ldquo;Certificates&rdquo;, then OK.</li><li>When the wizard starts, choose &ldquo;Computer Account&rdquo;, &ldquo;Local Computer&rdquo; and finish out the wizard.</li><li>Once you&rsquo;re finished, get back to the MMC and expand the &ldquo;Certificates&rdquo; node, then the &ldquo;Personal&rdquo; node.</li><li>Click on the &ldquo;Certificates&rdquo; node under &ldquo;Personal&rdquo; and find your certificate in the right pane.</li><li>Right click on the certificate and choose &ldquo;All Tasks&rdquo;, then &ldquo;Export&rdquo;.</li><li>When the wizard starts, choose &ldquo;Yes&rdquo; for exporting the private key, then select <strong>ONLY</strong> &ldquo;Strong Private Key Protection&rdquo; from the PFX section. You will also need to set a password and specify a location for the PFX file.</li><li>Once the PFX file has been saved, close out the MMC (don&rsquo;t save the snap-in if it asks).</li><li>Get the PFX over to the Linux server somehow.</li></ul><p>Once the PFX makes it over to the Linux server, you have to decrypt the PFX into a plaintext PEM file (PFX&rsquo;s are binary files, and can&rsquo;t be viewed in a text editor):</p><pre><code>openssl pkcs12 -in file.pfx -out file.pem
</code></pre><p>You will be asked for the password for the PFX (which is the one you set in the Windows wizard). Once you enter that, you will be asked for a new password. This new password is used to encrypt the private key. You cannot proceed until you enter a password that is 4 characters or longer. <strong>REMEMBER</strong> this password!</p><p>When this step is complete, you should have a PEM file that you can read in a text editor. Open the file in a text editor and copy the private key and certificate to different files. Remember to keep the dashed lines intact when you copy the certificates - this is important. There is some additional text above the key, and also between the key and certificate - this text should be ignored and should not be included in the certificate and key files.</p><p>Now that you have the key and certificate separated, you need to decrypt the private key (or face the wrath of Apache every time you restart the server). You can decrypt the private key like this:</p><pre><code>openssl rsa -in file.key -out file.key
</code></pre><p>Yes, provide the same file name twice and it will decrypt the key onto itself, keeping everything in one file. OpenSSL will ask for a password to decrypt the key, and this is the password you set when you decrypted the PFX. If you forgot the password, you will need to start over from when you brought it over from the Windows box.</p><p>After this entire process, you will have four files, a PFX, PEM, KEY, and CRT. Throw away the PFX and PEM, and you can use the key and certificate files to install into Apache. In case you forget the syntax, here&rsquo;s what goes in the Apache configuration:</p><pre><code>SSLEngine On
SSLCertificateFile /path/to/your/certificate
SSLCertificateKeyFile /path/to/your/privatekey
</code></pre></div></article><hr><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=tag><a href=https://major.io/tags/command-line/>command line</a></span>
<span class=tag><a href=https://major.io/tags/security/>security</a></span>
<span class=tag><a href=https://major.io/tags/web/>web</a></span></p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder meta-icon"><path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/></svg><span class=tag><a href=https://major.io/categories/blog-posts/>Blog Posts</a></span></p></div></main></div><footer class=footer><div class=footer__inner><div class=footer__content><span>&copy; 2021</span>
<span><a href=https://major.io>Major Hayden</a></span>
<span><a href=https://creativecommons.org/licenses/by-sa/2.0/ target=_blank rel=noopener>CC BY-SA 2.0</a></span><span><a href=https://major.io/posts/index.xml target=_blank title=rss><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></span></div></div><div class=footer__inner><div class=footer__content><span>Powered by <a href=http://gohugo.io>Hugo</a></span>
<span>Made with &#10084; by <a href=https://github.com/rhazdon>Djordje Atlialp</a></span></div></div></footer></div><script type=text/javascript src=../../../../bundle.min.9dd6c4fd1eb55000d257db1269676cdb26bfcc9ab1b1dc8885a54f94b97fa86e6d72e435907d76f8662e0f65472e78ab8ad69c36624d8d4a96c04c42e029d957.js integrity="sha512-ndbE/R61UADSV9sSaWds2ya/zJqxsdyIhaVPlLl/qG5tcuQ1kH12+GYuD2VHLniritacNmJNjUqWwExC4CnZVw=="></script></body></html>