<!doctype html><html lang=en-us><head><meta http-equiv=x-clacks-overhead content="GNU Terry Pratchett"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=https://major.io/favicon.ico><title>Supermicro X9SCI/X9SCA server does a shutdown rather than a reboot | Major Hayden's Blog ðŸ¤ </title><meta name=title content="Supermicro X9SCI/X9SCA server does a shutdown rather than a reboot"><meta name=description content="Most of my websites run on a pair of Supermicro servers that I purchased from Silicon Mechanics (and I can&rsquo;t say enough good things about them and their servers). One problem that kept cropping up was that the servers would become unresponsive during a reboot. If I issued the reboot command in Linux, the machine would begin the reboot process, power off, and remain powered off.
Needless to say, this is highly annoying."><meta name=keywords content="centos,command line,fedora,linux,red hat,sysadmin,"><meta property="og:title" content="Supermicro X9SCI/X9SCA server does a shutdown rather than a reboot"><meta property="og:description" content="Most of my websites run on a pair of Supermicro servers that I purchased from Silicon Mechanics (and I can&rsquo;t say enough good things about them and their servers). One problem that kept cropping up was that the servers would become unresponsive during a reboot. If I issued the reboot command in Linux, the machine would begin the reboot process, power off, and remain powered off.
Needless to say, this is highly annoying."><meta property="og:type" content="article"><meta property="og:url" content="https://major.io/2013/06/03/supermicro-x9scix9sca-server-does-a-shutdown-rather-than-a-reboot/"><meta property="og:image" content="https://major.io/images/2019-05-24-cranes-skycrapers.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2013-06-03T14:45:34+00:00"><meta property="article:modified_time" content="2013-06-03T14:45:34+00:00"><meta property="og:site_name" content="Major Hayden's Blog ðŸ¤ "><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://major.io/images/2019-05-24-cranes-skycrapers.jpg"><meta name=twitter:title content="Supermicro X9SCI/X9SCA server does a shutdown rather than a reboot"><meta name=twitter:description content="Most of my websites run on a pair of Supermicro servers that I purchased from Silicon Mechanics (and I can&rsquo;t say enough good things about them and their servers). One problem that kept cropping up was that the servers would become unresponsive during a reboot. If I issued the reboot command in Linux, the machine would begin the reboot process, power off, and remain powered off.
Needless to say, this is highly annoying."><meta name=twitter:site content="@mhayden"><meta itemprop=name content="Supermicro X9SCI/X9SCA server does a shutdown rather than a reboot"><meta itemprop=description content="Most of my websites run on a pair of Supermicro servers that I purchased from Silicon Mechanics (and I can&rsquo;t say enough good things about them and their servers). One problem that kept cropping up was that the servers would become unresponsive during a reboot. If I issued the reboot command in Linux, the machine would begin the reboot process, power off, and remain powered off.
Needless to say, this is highly annoying."><meta itemprop=datePublished content="2013-06-03T14:45:34+00:00"><meta itemprop=dateModified content="2013-06-03T14:45:34+00:00"><meta itemprop=wordCount content="407"><meta itemprop=image content="https://major.io/images/2019-05-24-cranes-skycrapers.jpg"><meta itemprop=keywords content="centos,command line,fedora,linux,red hat,sysadmin,"><meta name=referrer content="no-referrer-when-downgrade"><style>body{font-family:Verdana,sans-serif;margin:auto;padding:20px;max-width:820px;text-align:left;background-color:#fff;word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:#444}h1,h2,h3,h4,h5,h6,strong,b{color:#222}a{color:#3273dc}.title{text-decoration:none;border:0}.title span{font-weight:400}nav a{margin-right:10px}textarea{width:100%;font-size:16px}input{font-size:16px}content{line-height:1.6}table{width:100%}img{max-width:100%}code{padding:2px 5px;background-color:#f2f2f2}pre code{color:#222;display:block;padding:20px;white-space:pre-wrap;font-size:14px}div.highlight code{background-color:unset;color:initial}blockquote{border-left:1px solid #999;color:#222;padding-left:20px;font-style:italic}footer{padding:25px;text-align:center}.helptext{color:#777;font-size:small}.errorlist{color:#eba613;font-size:small}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 130px}ul.blog-posts li a:visited{color:#8b6fcb}@media(prefers-color-scheme:dark){body{background-color:#333;color:#ddd}h1,h2,h3,h4,h5,h6,strong,b{color:#eee}a{color:#8cc2dd}code{background-color:#777}pre code{color:#ddd}blockquote{color:#ccc}textarea,input{background-color:#252525;color:#ddd}.helptext{color:#aaa}}</style></head><body><header><a href=../../../../ class=title><h2>Major Hayden's Blog ðŸ¤ </h2></a><nav><a href=../../../../>Home</a>
<a href=../../../../ham-radio-faq>Ham Radio</a>
<a href=../../../../icanhazip-com-faq>icanhazip FAQ</a>
<a href=../../../../posts>Posts</a></nav><script async src=https://media.ethicalads.io/media/client/ethicalads.min.js></script><div class="adaptive raised" data-ea-publisher=major-io data-ea-type=text></div></header><main><h1>Supermicro X9SCI/X9SCA server does a shutdown rather than a reboot</h1><i><time datetime=2013-06-03 pubdate>2013-06-03</time></i>
<content><p>Most of my websites run on a pair of Supermicro servers that I purchased from <a href=http://www.siliconmechanics.com/>Silicon Mechanics</a> (and I can&rsquo;t say enough good things about them and their servers). One problem that kept cropping up was that the servers would become unresponsive during a reboot. If I issued the <code>reboot</code> command in Linux, the machine would begin the reboot process, power off, and remain powered off.</p><p>Needless to say, this is highly annoying.</p><p>The only way to bring the machine back was to use ipmitool on my other server or access the IPMI/iKVM interface on the downed server. I tested Fedora 15 through 19 and confirmed the issue in each OS. Finally, I installed CentOS 6 and the problem disappeared. The servers would reboot and come back online as expected.</p><p>Fast forward to this evening. I discovered a <a href="http://ubuntuforums.org/showthread.php?t=2024096">helpful forum thread</a> where users were discussing a similar problem on a X9SCA-F Supermicro board. The fix was to blacklist a kernel module like this:</p><pre><code> /etc/modprobe.d/blacklist.conf
</code></pre><p>I tried to <code>rmmod mei</code> and reboot, but the machine stayed powered off again. When I powered it back on with the module blacklisted from the start, I found that I could reboot normally and the server would boot up again. The module is from Intel:</p><pre><code># modinfo mei | grep desc
description:    Intel(R) Management Engine Interface
</code></pre><p>The Intel Management Engine is a BIOS extension that enables Intel Active Management Technology (AMT). Intel <a href=http://software.intel.com/sites/default/files/m/2/3/8/9/c/17992-intel_amt_overview.pdf>has a PDF</a> that gives an overview of AMT:</p><blockquote><p>IntelÂ® Active Management Technology (IntelÂ® AMT) is a capability embedded in Intel-based platforms that enhances the ability of IT organizations to manage enterprise computing facilities. Intel AMT operates independently of the platform processor and operating system. Remote platform management applications can access Intel AMT securely, even when the platform is turned off, as long as the platform is connected to line power and to a network. Independent software vendors (ISVs) can build applications that take advantage of the features of Intel AMT using the application programming interface (API).</p></blockquote><p>That&rsquo;s a mouthful.</p><p>It essentially allows you to manage large amounts of hardware and keep an inventory. You can also pull event logs from the machine even if it&rsquo;s powered off. Applications running within the OS on the server can give data to the AMT interface that allows administrators to retrieve the data without needing access to the OS.</p><p>The blacklisted module hasn&rsquo;t affected the server negatively (as far as I can tell).</p></content><p><a href=https://major.io/tags/centos/>#centos</a>
<a href=https://major.io/tags/command-line/>#command line</a>
<a href=https://major.io/tags/fedora/>#fedora</a>
<a href=https://major.io/tags/linux/>#linux</a>
<a href=https://major.io/tags/red-hat/>#red hat</a>
<a href=https://major.io/tags/sysadmin/>#sysadmin</a></p></main><footer><hr>CC-BY-SA 4.0 &#187;
Made with <a href=https://gohugo.io/>Hugo</a> &#187;
Theme based on <a href=https://github.com/janraasch/hugo-bearblog/>Hugo Ê•â€¢á´¥â€¢Ê” Bear</a><br></footer></body></html>