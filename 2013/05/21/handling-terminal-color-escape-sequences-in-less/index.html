<!doctype html><html lang=en-us><head><meta http-equiv=x-clacks-overhead content="GNU Terry Pratchett"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=https://major.io/favicon.ico><title>Handling terminal color escape sequences in less | Major Hayden's Blog ðŸ¤ </title><meta name=title content="Handling terminal color escape sequences in less"><meta name=description content="This post is a quick one but I wanted to share it since I taught it to someone new today. When you have bash output with colors, less doesn&rsquo;t handle the color codes properly by default:
$ colordiff chunk/functions.php chunk-old/functions.php | less ESC[0;32m22a23,27ESC[0;0m ESC[0;34m> * Load up our functions for grabbing content from postsESC[0;0m ESC[0;34m> */ESC[0;0m ESC[0;34m> require( get_template_directory() . '/content-grabbers.php' );ESC[0;0m ESC[0;34m> ESC[0;0m Toss in the -R flag and you&rsquo;ll be able to see the colors properly (no colors to see here, but use your imagination):"><meta name=keywords content="centos,command line,fedora,general advice,linux,red hat,sysadmin,"><meta property="og:title" content="Handling terminal color escape sequences in less"><meta property="og:description" content="This post is a quick one but I wanted to share it since I taught it to someone new today. When you have bash output with colors, less doesn&rsquo;t handle the color codes properly by default:
$ colordiff chunk/functions.php chunk-old/functions.php | less ESC[0;32m22a23,27ESC[0;0m ESC[0;34m> * Load up our functions for grabbing content from postsESC[0;0m ESC[0;34m> */ESC[0;0m ESC[0;34m> require( get_template_directory() . '/content-grabbers.php' );ESC[0;0m ESC[0;34m> ESC[0;0m Toss in the -R flag and you&rsquo;ll be able to see the colors properly (no colors to see here, but use your imagination):"><meta property="og:type" content="article"><meta property="og:url" content="https://major.io/2013/05/21/handling-terminal-color-escape-sequences-in-less/"><meta property="og:image" content="https://major.io/images/2019-05-24-cranes-skycrapers.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2013-05-22T02:33:00+00:00"><meta property="article:modified_time" content="2013-05-22T02:33:00+00:00"><meta property="og:site_name" content="Major Hayden's Blog ðŸ¤ "><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://major.io/images/2019-05-24-cranes-skycrapers.jpg"><meta name=twitter:title content="Handling terminal color escape sequences in less"><meta name=twitter:description content="This post is a quick one but I wanted to share it since I taught it to someone new today. When you have bash output with colors, less doesn&rsquo;t handle the color codes properly by default:
$ colordiff chunk/functions.php chunk-old/functions.php | less ESC[0;32m22a23,27ESC[0;0m ESC[0;34m> * Load up our functions for grabbing content from postsESC[0;0m ESC[0;34m> */ESC[0;0m ESC[0;34m> require( get_template_directory() . '/content-grabbers.php' );ESC[0;0m ESC[0;34m> ESC[0;0m Toss in the -R flag and you&rsquo;ll be able to see the colors properly (no colors to see here, but use your imagination):"><meta name=twitter:site content="@mhayden"><meta itemprop=name content="Handling terminal color escape sequences in less"><meta itemprop=description content="This post is a quick one but I wanted to share it since I taught it to someone new today. When you have bash output with colors, less doesn&rsquo;t handle the color codes properly by default:
$ colordiff chunk/functions.php chunk-old/functions.php | less ESC[0;32m22a23,27ESC[0;0m ESC[0;34m> * Load up our functions for grabbing content from postsESC[0;0m ESC[0;34m> */ESC[0;0m ESC[0;34m> require( get_template_directory() . '/content-grabbers.php' );ESC[0;0m ESC[0;34m> ESC[0;0m Toss in the -R flag and you&rsquo;ll be able to see the colors properly (no colors to see here, but use your imagination):"><meta itemprop=datePublished content="2013-05-22T02:33:00+00:00"><meta itemprop=dateModified content="2013-05-22T02:33:00+00:00"><meta itemprop=wordCount content="268"><meta itemprop=image content="https://major.io/images/2019-05-24-cranes-skycrapers.jpg"><meta itemprop=keywords content="centos,command line,fedora,general advice,linux,red hat,sysadmin,"><meta name=referrer content="no-referrer-when-downgrade"><style>body{font-family:Verdana,sans-serif;margin:auto;padding:20px;max-width:820px;text-align:left;background-color:#fff;word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:#444}h1,h2,h3,h4,h5,h6,strong,b{color:#222}a{color:#3273dc}.title{text-decoration:none;border:0}.title span{font-weight:400}nav a{margin-right:10px}textarea{width:100%;font-size:16px}input{font-size:16px}content{line-height:1.6}table{width:100%}img{max-width:100%}code{padding:2px 5px;background-color:#f2f2f2}pre code{color:#222;display:block;padding:20px;white-space:pre-wrap;font-size:14px}div.highlight code{background-color:unset;color:initial}blockquote{border-left:1px solid #999;color:#222;padding-left:20px;font-style:italic}footer{padding:25px;text-align:center}.helptext{color:#777;font-size:small}.errorlist{color:#eba613;font-size:small}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 130px}ul.blog-posts li a:visited{color:#8b6fcb}@media(prefers-color-scheme:dark){body{background-color:#333;color:#ddd}h1,h2,h3,h4,h5,h6,strong,b{color:#eee}a{color:#8cc2dd}code{background-color:#777}pre code{color:#ddd}blockquote{color:#ccc}textarea,input{background-color:#252525;color:#ddd}.helptext{color:#aaa}}</style></head><body><header><a href=../../../../ class=title><h2>Major Hayden's Blog ðŸ¤ </h2></a><nav><a href=../../../../>Home</a>
<a href=../../../../ham-radio-faq>Ham Radio</a>
<a href=../../../../icanhazip-com-faq>icanhazip FAQ</a>
<a href=../../../../posts>Posts</a></nav><script async src=https://media.ethicalads.io/media/client/ethicalads.min.js></script><div class="adaptive raised" data-ea-publisher=major-io data-ea-type=text></div></header><main><h1>Handling terminal color escape sequences in less</h1><i><time datetime=2013-05-22 pubdate>2013-05-22</time></i>
<content><p>This post is a quick one but I wanted to share it since I taught it to someone new today. When you have bash output with colors, <code>less</code> doesn&rsquo;t handle the color codes properly by default:</p><pre><code>$ colordiff chunk/functions.php chunk-old/functions.php | less
ESC[0;32m22a23,27ESC[0;0m
ESC[0;34m&gt;       * Load up our functions for grabbing content from postsESC[0;0m
ESC[0;34m&gt;       */ESC[0;0m
ESC[0;34m&gt;      require( get_template_directory() . '/content-grabbers.php' );ESC[0;0m
ESC[0;34m&gt; ESC[0;0m
</code></pre><p>Toss in the <code>-R</code> flag and you&rsquo;ll be able to see the colors properly (no colors to see here, but use your imagination):</p><pre><code>$ colordiff chunk/functions.php chunk-old/functions.php | less -R
22a23,27
&gt;        * Load up our functions for grabbing content from posts
&gt;        */
&gt;       require( get_template_directory() . '/content-grabbers.php' );
&gt;
&gt;       /**
</code></pre><p>The <a href=http://linux.die.net/man/1/less>man page</a> for <code>less</code> explains the feature in greater detail:</p><pre><code>-R or --RAW-CONTROL-CHARS
       Like -r, but only ANSI &quot;color&quot; escape sequences are output in &quot;raw&quot; form.  Unlike -r, the screen appear-
       ance is maintained correctly in most cases.  ANSI &quot;color&quot; escape sequences are sequences of the form:
            ESC [ ... m
       where the &quot;...&quot; is zero or more color specification characters For  the  purpose  of  keeping  track  of
       screen  appearance,  ANSI  color escape sequences are assumed to not move the cursor.  You can make less
       think that characters other than &quot;m&quot; can end ANSI color escape  sequences  by  setting  the  environment
       variable  LESSANSIENDCHARS to the list of characters which can end a color escape sequence.  And you can
       make less think that characters other than the standard ones may appear between the ESC  and  the  m  by
       setting the environment variable LESSANSIMIDCHARS to the list of characters which can appear.
</code></pre></content><p><a href=https://major.io/tags/centos/>#centos</a>
<a href=https://major.io/tags/command-line/>#command line</a>
<a href=https://major.io/tags/fedora/>#fedora</a>
<a href=https://major.io/tags/general-advice/>#general advice</a>
<a href=https://major.io/tags/linux/>#linux</a>
<a href=https://major.io/tags/red-hat/>#red hat</a>
<a href=https://major.io/tags/sysadmin/>#sysadmin</a></p></main><footer><hr>CC-BY-SA 4.0 &#187;
Made with <a href=https://gohugo.io/>Hugo</a> &#187;
Theme based on <a href=https://github.com/janraasch/hugo-bearblog/>Hugo Ê•â€¢á´¥â€¢Ê” Bear</a><br></footer></body></html>