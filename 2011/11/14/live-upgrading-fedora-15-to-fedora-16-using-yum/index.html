<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content="Major Hayden"><meta name=description content="Before we get started, I really ought to drop this here:
This begs the question: When should you use another method to upgrade Fedora? What other methods are there?
You have a few other methods to get the upgrade done:
 Toss in a CD or DVD: You can upgrade via the anaconda installer provided on the CD, DVD or netinstall media. My experiences with this method for Fedora (as well as CentOS, Scientific Linux, and Red Hat) haven&amp;rsquo;t been too positive, but your results may vary."><meta name=keywords content=",centos,command line,fedora,linux,preupgrade,raid,red hat,scientific linux,sysadmin,yum"><meta name=robots content="noodp"><meta name=theme-color content><link rel=canonical href=https://major.io/2011/11/14/live-upgrading-fedora-15-to-fedora-16-using-yum/><title>Live upgrade Fedora 15 to Fedora 16 using yum :: Major Hayden ðŸ¤  â€” Words of wisdom from a social nerd</title><link href=https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css rel=stylesheet type=text/css><link rel=stylesheet href=../../../../main.89fa80e2143f71bd5c96a7c94e531dec3276a367e22f87e74a76026ab64680bf.css><link rel=apple-touch-icon sizes=180x180 href=../../../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../../../favicon-16x16.png><link rel=manifest href=../../../../site.webmanifest><link rel=mask-icon href=../../../../safari-pinned-tab.svg color=#252627><link rel="shortcut icon" href=../../../../favicon.ico><meta name=msapplication-TileColor content="#252627"><meta name=theme-color content="#252627"><meta itemprop=name content="Live upgrade Fedora 15 to Fedora 16 using yum"><meta itemprop=description content="Before we get started, I really ought to drop this here:
This begs the question: When should you use another method to upgrade Fedora? What other methods are there?
You have a few other methods to get the upgrade done:
 Toss in a CD or DVD: You can upgrade via the anaconda installer provided on the CD, DVD or netinstall media. My experiences with this method for Fedora (as well as CentOS, Scientific Linux, and Red Hat) haven&rsquo;t been too positive, but your results may vary."><meta itemprop=datePublished content="2011-11-15T04:37:39+00:00"><meta itemprop=dateModified content="2011-11-15T04:37:39+00:00"><meta itemprop=wordCount content="568"><meta itemprop=image content="https://major.io"><meta itemprop=keywords content="centos,command line,fedora,linux,preupgrade,raid,red hat,scientific linux,sysadmin,yum,"><meta property="article:section" content="Blog Posts"><meta property="article:published_time" content="2011-11-15 04:37:39 +0000 UTC"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Live upgrade Fedora 15 to Fedora 16 using yum :: Major Hayden ðŸ¤ "><meta name=twitter:description content><meta name=twitter:site content="https://major.io"><meta name=twitter:creator content="Major Hayden"><meta name=twitter:image content><style type=text/css>html{letter-spacing:unset}</style></head><body><div class=container><header class=header><span class=header__inner><a href=../../../../ style=text-decoration:none><div class=logo><span class=logo__mark>></span>
<span class=logo__text>$ echo major.io</span>
<span class=logo__cursor style=visibility:hidden></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=../../../../ham-radio-faq>hamradio</a></li><li><a href=../../../../icanhazip-com-faq>icanhazip</a></li><li><a href=../../../../posts/>posts</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span><span class="theme-toggle unselectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 41c10.4934.0 19-8.5066 19-19C41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg></span></span></span></header><div class=content><main class=post><div class=post-info></p></div><article><h2 class=post-title><a href=https://major.io/2011/11/14/live-upgrading-fedora-15-to-fedora-16-using-yum/>Live upgrade Fedora 15 to Fedora 16 using yum</a></h2><div class=post-content><p>Before we get started, I really ought to drop this here:</p><p><a href=../../../../wp-content/uploads/2011/11/Logo_fedoralogo.png></a>This begs the question: <em>When should you use another method to upgrade Fedora? What other methods are there?</em></p><p>You have a few other methods to get the upgrade done:</p><ul><li><strong>Toss in a CD or DVD:</strong> You can upgrade via the anaconda installer provided on the CD, DVD or netinstall media. My experiences with this method for Fedora (as well as CentOS, Scientific Linux, and Red Hat) haven&rsquo;t been too positive, but your results may vary.</li><li><strong>Download the newer release&rsquo;s fedora-release RPM, install it with <code>rpm</code>, and <code>yum upgrade</code>:</strong> This is the really old way of doing things. Don&rsquo;t try this (read the next bullet).</li><li><strong>Use <code>yum</code>&rsquo;s distro-sync functionality:</strong> If you can&rsquo;t go the <code>preupgrade</code> route, I&rsquo;d recommend giving this a try. However, leave plenty of time to fix small glitches after it&rsquo;s done (and after your first reboot).</li></ul><p><strong>Personal anecdote time</strong> <em>(Keep scrolling for the meat and potatoes)</em></p><p>I have a dedicated server at <a href=http://joesdatacenter.com/>Joe&rsquo;s Datacenter</a> (love those folks) with IPMI and KVM-over-LAN access. The <code>preupgrade</code> method won&rsquo;t work for me because my <code>/boot</code> partition is on a software RAID volume. There&rsquo;s a <a href="https://bugzilla.redhat.com/show_bug.cgi?id=504826">rat&rsquo;s nest of a Bugzilla ticket</a> over on Red Hat&rsquo;s site about this problem. I&rsquo;m really only left with a live upgrade using <code>yum</code>.</p><p><strong>Live <code>yum</code> upgrade process</strong></p><p>Before even beginning the upgrade, I double-checked that I&rsquo;d applied all of the available updates for my server. Once that was done, I realized I was one kernel revision behind and I rebooted to ensure I was in the latest Fedora 15 kernel.</p><p>A good practice here is to run <code>package-cleanup --orphans</code> (it&rsquo;s in the <code>yum-utils</code> package) to find any packages which don&rsquo;t exist on any Fedora mirrors. In my case, I had two old kernels and a JungleDisk package. I removed the two old kernels (probably wasn&rsquo;t necessary) and left JungleDisk alone (it worked fine after the upgrade). If you have any external repositories, such as Livna or RPMForge, you may want to disable those until the upgrade is done. Should the initial upgrade checks bomb out, try adding as few repositories back in as possible to see if it clears up the problem.</p><p>Once you make it this far, just follow the instructions available in Fedora&rsquo;s documentation: <a href=http://fedoraproject.org/wiki/Upgrading_Fedora_using_yum#Fedora_15_-.3E_Fedora_16>Upgrading Fedora using yum</a>. I set SELinux to permissive mode during the upgrade just in case it caused problems.</p><p>I&rsquo;d recommend skipping the <code>grub2-install</code> portion since your original grub installation will still be present after the upgrade. If your server has EFI (not BIOS), <strong>don&rsquo;t use</strong> <code>grub2</code> yet. Keep an eye on the previously mentioned documentation page to see if the problems get ironed out between <code>grub2</code> and EFI.</p><p><strong>Before you reboot,</strong> be sure to get a list of your active processes and daemons. After your reboot, some old SysVinit scripts will be converted into Systemd service scripts. They might not start automatically and you might need to enable and/or start some services.</p><p>New to Systemd? This will be an extremely handy resource: <a href=http://fedoraproject.org/wiki/SysVinit_to_Systemd_Cheatsheet>SysVinit to Systemd Cheatsheet</a>.</p><p>I haven&rsquo;t seen too many issues after cleaning up some daemons that didn&rsquo;t start properly. There is a problem between <code>asterisk</code> and SELinux that I haven&rsquo;t nailed down yet but it&rsquo;s not a showstopper.</p><p>Good luck during your upgrades. Keep in mind that Fedora 15 could be EOL&rsquo;d as early as May or June 20102 when Fedora 17 is released.</p></div></article><hr><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=tag><a href=https://major.io/tags/centos/>centos</a></span>
<span class=tag><a href=https://major.io/tags/command-line/>command line</a></span>
<span class=tag><a href=https://major.io/tags/fedora/>fedora</a></span>
<span class=tag><a href=https://major.io/tags/linux/>linux</a></span>
<span class=tag><a href=https://major.io/tags/preupgrade/>preupgrade</a></span>
<span class=tag><a href=https://major.io/tags/raid/>raid</a></span>
<span class=tag><a href=https://major.io/tags/red-hat/>red hat</a></span>
<span class=tag><a href=https://major.io/tags/scientific-linux/>scientific linux</a></span>
<span class=tag><a href=https://major.io/tags/sysadmin/>sysadmin</a></span>
<span class=tag><a href=https://major.io/tags/yum/>yum</a></span></p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder meta-icon"><path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/></svg><span class=tag><a href=https://major.io/categories/blog-posts/>Blog Posts</a></span></p></div></main></div><footer class=footer><div class=footer__inner><div class=footer__content><span>&copy; 2021</span>
<span><a href=https://major.io>Major Hayden</a></span>
<span><a href=https://creativecommons.org/licenses/by-sa/2.0/ target=_blank rel=noopener>CC BY-SA 2.0</a></span><span><a href=https://major.io/posts/index.xml target=_blank title=rss><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></span></div></div><div class=footer__inner><div class=footer__content><span>Powered by <a href=http://gohugo.io>Hugo</a></span>
<span>Made with &#10084; by <a href=https://github.com/rhazdon>Djordje Atlialp</a></span></div></div></footer></div><script type=text/javascript src=../../../../bundle.min.e9f93b80e78a22e6f04cbb5f73e0f9c4ba60ff73a2a0ef85965c688f93dd1f2722a282e30e485603e4c65b1b346720e35f213435ec5556e196a97a68d097c80f.js integrity="sha512-6fk7gOeKIubwTLtfc+D5xLpg/3OioO+Fllxoj5PdHyciooLjDkhWA+TGWxs0ZyDjXyE0NexVVuGWqXpo0JfIDw=="></script></body></html>