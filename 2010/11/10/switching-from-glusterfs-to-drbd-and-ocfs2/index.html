<!doctype html><html lang=en-us><head><meta http-equiv=x-clacks-overhead content="GNU Terry Pratchett"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=https://major.io/favicon.ico><title>Switching from GlusterFS to DRBD and OCFS2 | Major Hayden's Blog ðŸ¤ </title><meta name=title content="Switching from GlusterFS to DRBD and OCFS2"><meta name=description content="As my uptime reports have shown, and as some of you have reported, my blog&rsquo;s load time has increased steadily over the past few weeks. It turns out that one of my VM&rsquo;s was on a physical machine that had some trouble and I was reaching a point where GlusterFS&rsquo;s replicate functionality couldn&rsquo;t meet my performance needs.
Instead of using GlusterFS as I had before in my redundant cloud hosting guide, I decided to use DRBD in dual-primary mode with OCFS2 as the clustering filesystem on top of it."><meta name=keywords content="command line,drbd,filesystem,glusterfs,ocfs2,sysadmin,web,"><meta property="og:title" content="Switching from GlusterFS to DRBD and OCFS2"><meta property="og:description" content="As my uptime reports have shown, and as some of you have reported, my blog&rsquo;s load time has increased steadily over the past few weeks. It turns out that one of my VM&rsquo;s was on a physical machine that had some trouble and I was reaching a point where GlusterFS&rsquo;s replicate functionality couldn&rsquo;t meet my performance needs.
Instead of using GlusterFS as I had before in my redundant cloud hosting guide, I decided to use DRBD in dual-primary mode with OCFS2 as the clustering filesystem on top of it."><meta property="og:type" content="article"><meta property="og:url" content="https://major.io/2010/11/10/switching-from-glusterfs-to-drbd-and-ocfs2/"><meta property="og:image" content="https://major.io/images/2019-05-24-cranes-skycrapers.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2010-11-10T13:55:50+00:00"><meta property="article:modified_time" content="2020-02-12T16:36:14-06:00"><meta property="og:site_name" content="Major Hayden's Blog ðŸ¤ "><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://major.io/images/2019-05-24-cranes-skycrapers.jpg"><meta name=twitter:title content="Switching from GlusterFS to DRBD and OCFS2"><meta name=twitter:description content="As my uptime reports have shown, and as some of you have reported, my blog&rsquo;s load time has increased steadily over the past few weeks. It turns out that one of my VM&rsquo;s was on a physical machine that had some trouble and I was reaching a point where GlusterFS&rsquo;s replicate functionality couldn&rsquo;t meet my performance needs.
Instead of using GlusterFS as I had before in my redundant cloud hosting guide, I decided to use DRBD in dual-primary mode with OCFS2 as the clustering filesystem on top of it."><meta name=twitter:site content="@mhayden"><meta itemprop=name content="Switching from GlusterFS to DRBD and OCFS2"><meta itemprop=description content="As my uptime reports have shown, and as some of you have reported, my blog&rsquo;s load time has increased steadily over the past few weeks. It turns out that one of my VM&rsquo;s was on a physical machine that had some trouble and I was reaching a point where GlusterFS&rsquo;s replicate functionality couldn&rsquo;t meet my performance needs.
Instead of using GlusterFS as I had before in my redundant cloud hosting guide, I decided to use DRBD in dual-primary mode with OCFS2 as the clustering filesystem on top of it."><meta itemprop=datePublished content="2010-11-10T13:55:50+00:00"><meta itemprop=dateModified content="2020-02-12T16:36:14-06:00"><meta itemprop=wordCount content="174"><meta itemprop=image content="https://major.io/images/2019-05-24-cranes-skycrapers.jpg"><meta itemprop=keywords content="command line,drbd,filesystem,glusterfs,ocfs2,sysadmin,web,"><meta name=referrer content="no-referrer-when-downgrade"><style>body{font-family:Verdana,sans-serif;margin:auto;padding:20px;max-width:820px;text-align:left;background-color:#fff;word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:#444}h1,h2,h3,h4,h5,h6,strong,b{color:#222}a{color:#3273dc}.title{text-decoration:none;border:0}.title span{font-weight:400}nav a{margin-right:10px}textarea{width:100%;font-size:16px}input{font-size:16px}content{line-height:1.6}table{width:100%}img{max-width:100%}code{padding:2px 5px;background-color:#f2f2f2}pre code{color:#222;display:block;padding:20px;white-space:pre-wrap;font-size:14px}div.highlight code{background-color:unset;color:initial}blockquote{border-left:1px solid #999;color:#222;padding-left:20px;font-style:italic}footer{padding:25px;text-align:center}.helptext{color:#777;font-size:small}.errorlist{color:#eba613;font-size:small}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 130px}ul.blog-posts li a:visited{color:#8b6fcb}@media(prefers-color-scheme:dark){body{background-color:#333;color:#ddd}h1,h2,h3,h4,h5,h6,strong,b{color:#eee}a{color:#8cc2dd}code{background-color:#777}pre code{color:#ddd}blockquote{color:#ccc}textarea,input{background-color:#252525;color:#ddd}.helptext{color:#aaa}}</style></head><body><header><a href=../../../../ class=title><h2>Major Hayden's Blog ðŸ¤ </h2></a><nav><a href=../../../../>Home</a>
<a href=../../../../ham-radio-faq>Ham Radio</a>
<a href=../../../../icanhazip-com-faq>icanhazip FAQ</a>
<a href=../../../../posts>Posts</a></nav><script async src=https://media.ethicalads.io/media/client/ethicalads.min.js></script><div class="adaptive raised" data-ea-publisher=major-io data-ea-type=text></div></header><main><h1>Switching from GlusterFS to DRBD and OCFS2</h1><i><time datetime=2010-11-10 pubdate>2010-11-10</time></i>
<content><p>As my uptime reports have shown, and as some of you have reported, my blog&rsquo;s load time has increased steadily over the past few weeks. It turns out that one of my VM&rsquo;s was on a physical machine that had some trouble and I was reaching a point where GlusterFS&rsquo;s replicate functionality couldn&rsquo;t meet my performance needs.</p><p>Instead of using <a href=http://en.wikipedia.org/wiki/GlusterFS>GlusterFS</a> as I had before in my <a href=../../../../redundant-cloud-hosting-configuration-guide/>redundant cloud hosting guide</a>, I decided to use <a href=http://en.wikipedia.org/wiki/DRBD>DRBD</a> in dual-primary mode with <a href=http://en.wikipedia.org/wiki/OCFS>OCFS2</a> as the clustering filesystem on top of it. The performance is quite good so far:</p><p><img src=../../../../wp-content/uploads/2010/11/pingdomresponsetime-rackerhacker.com_.png alt=5> Pingdom Response Time Graph for rackerhacker.com</p><p>I switched over the DNS late last night and the response time has fallen from the two to three second range (during times of low load) to right around one second per request. In addition to the reduced load times, I can support higher concurrency without significant performance degradation.</p><p>Don&rsquo;t worry - I&rsquo;ll make a detailed post on this topic later along with a guide on how to set it up yourself.</p></content><p><a href=https://major.io/tags/command-line/>#command line</a>
<a href=https://major.io/tags/drbd/>#drbd</a>
<a href=https://major.io/tags/filesystem/>#filesystem</a>
<a href=https://major.io/tags/glusterfs/>#glusterfs</a>
<a href=https://major.io/tags/ocfs2/>#ocfs2</a>
<a href=https://major.io/tags/sysadmin/>#sysadmin</a>
<a href=https://major.io/tags/web/>#web</a></p></main><footer><hr>CC-BY-SA 4.0 &#187;
Made with <a href=https://gohugo.io/>Hugo</a> &#187;
Theme based on <a href=https://github.com/janraasch/hugo-bearblog/>Hugo Ê•â€¢á´¥â€¢Ê” Bear</a> &#187;
<a href=https://github.com/major/major.io/commit/84372fb2198913a5e498b8d32ffc77fb813f0a48>84372fb2</a></footer></body></html>