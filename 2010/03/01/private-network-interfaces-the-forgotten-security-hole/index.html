<!doctype html><html lang=en-us><head><meta http-equiv=x-clacks-overhead content="GNU Terry Pratchett"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=https://major.io/favicon.ico><title>Private network interfaces: the forgotten security hole | Major Hayden's Blog ðŸ¤ </title><meta name=title content="Private network interfaces: the forgotten security hole"><meta name=description content="Regardless of the type of hosting you&rsquo;re using - dedicated or cloud - it&rsquo;s important to take network interface security seriously. Most often, threats from the internet are the only ones mentioned. However, if you share a private network with other customers, you have just as much risk on that interface.
Many cloud providers allow you access to a private network environment where you can exchange data with other instances or other services offered by the provider."><meta name=keywords content="apache,cloud,command line,encryption,iptables,mysql,network,security,ssl,sysadmin,tcpwrappers,"><meta property="og:title" content="Private network interfaces: the forgotten security hole"><meta property="og:description" content="Regardless of the type of hosting you&rsquo;re using - dedicated or cloud - it&rsquo;s important to take network interface security seriously. Most often, threats from the internet are the only ones mentioned. However, if you share a private network with other customers, you have just as much risk on that interface.
Many cloud providers allow you access to a private network environment where you can exchange data with other instances or other services offered by the provider."><meta property="og:type" content="article"><meta property="og:url" content="https://major.io/2010/03/01/private-network-interfaces-the-forgotten-security-hole/"><meta property="og:image" content="https://major.io/images/2019-05-24-cranes-skycrapers.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2010-03-02T00:55:07+00:00"><meta property="article:modified_time" content="2010-03-02T00:55:07+00:00"><meta property="og:site_name" content="Major Hayden's Blog ðŸ¤ "><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://major.io/images/2019-05-24-cranes-skycrapers.jpg"><meta name=twitter:title content="Private network interfaces: the forgotten security hole"><meta name=twitter:description content="Regardless of the type of hosting you&rsquo;re using - dedicated or cloud - it&rsquo;s important to take network interface security seriously. Most often, threats from the internet are the only ones mentioned. However, if you share a private network with other customers, you have just as much risk on that interface.
Many cloud providers allow you access to a private network environment where you can exchange data with other instances or other services offered by the provider."><meta name=twitter:site content="@mhayden"><meta itemprop=name content="Private network interfaces: the forgotten security hole"><meta itemprop=description content="Regardless of the type of hosting you&rsquo;re using - dedicated or cloud - it&rsquo;s important to take network interface security seriously. Most often, threats from the internet are the only ones mentioned. However, if you share a private network with other customers, you have just as much risk on that interface.
Many cloud providers allow you access to a private network environment where you can exchange data with other instances or other services offered by the provider."><meta itemprop=datePublished content="2010-03-02T00:55:07+00:00"><meta itemprop=dateModified content="2010-03-02T00:55:07+00:00"><meta itemprop=wordCount content="561"><meta itemprop=image content="https://major.io/images/2019-05-24-cranes-skycrapers.jpg"><meta itemprop=keywords content="apache,cloud,command line,encryption,iptables,mysql,network,security,ssl,sysadmin,tcpwrappers,"><meta name=referrer content="no-referrer-when-downgrade"><style>body{font-family:Verdana,sans-serif;margin:auto;padding:20px;max-width:820px;text-align:left;background-color:#fff;word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:#444}h1,h2,h3,h4,h5,h6,strong,b{color:#222}a{color:#3273dc}.title{text-decoration:none;border:0}.title span{font-weight:400}nav a{margin-right:10px}textarea{width:100%;font-size:16px}input{font-size:16px}content{line-height:1.6}table{width:100%}img{max-width:100%}code{padding:2px 5px;background-color:#f2f2f2}pre code{color:#222;display:block;padding:20px;white-space:pre-wrap;font-size:14px}div.highlight code{background-color:unset;color:initial}blockquote{border-left:1px solid #999;color:#222;padding-left:20px;font-style:italic}footer{padding:25px;text-align:center}.helptext{color:#777;font-size:small}.errorlist{color:#eba613;font-size:small}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 130px}ul.blog-posts li a:visited{color:#8b6fcb}@media(prefers-color-scheme:dark){body{background-color:#333;color:#ddd}h1,h2,h3,h4,h5,h6,strong,b{color:#eee}a{color:#8cc2dd}code{background-color:#777}pre code{color:#ddd}blockquote{color:#ccc}textarea,input{background-color:#252525;color:#ddd}.helptext{color:#aaa}}</style></head><body><header><a href=../../../../ class=title><h2>Major Hayden's Blog ðŸ¤ </h2></a><nav><a href=../../../../>Home</a>
<a href=../../../../ham-radio-faq>Ham Radio</a>
<a href=../../../../icanhazip-com-faq>icanhazip FAQ</a>
<a href=../../../../posts>Posts</a></nav></header><main><h1>Private network interfaces: the forgotten security hole</h1><i><time datetime=2010-03-02 pubdate>2010-03-02</time></i>
<content><p>Regardless of the type of hosting you&rsquo;re using - dedicated or cloud - it&rsquo;s important to take network interface security seriously. Most often, threats from the internet are the only ones mentioned. However, if you share a private network with other customers, you have just as much risk on that interface.</p><p>Many cloud providers allow you access to a private network environment where you can exchange data with other instances or other services offered by the provider. The convenience of this access comes with a price: other instances can access your instance on the private network just as easily as they could on the public interface.</p><p>Here are some security tips for your private interfaces:</p><p><strong>Disable the private interface</strong></p><p>This one is pretty simple. If you have only one instance or server, and you don&rsquo;t need to communicate privately with any other instances, just disable the interface. Remember to configure your networking scripts to leave the interface disabled after reboots.</p><p><strong>Use packet filtering</strong></p><p>The actual mechanism will vary based on your operating system, but filtering packets is the one of the simplest ways to secure your private interface. You can take some different approaches with them, but I find the easiest method is to allow access from your other instances and reject all other traffic.</p><p>For additional security, you can limit access based on ports as well as source IP addresses. This could prevent an attacker from having easy access to your other instances if they&rsquo;re able to break into one of them.</p><p><strong>Configure your daemons to listen on the appropriate interfaces</strong></p><p>If there are services that don&rsquo;t need to be listening on the private network, don&rsquo;t allow them to listen on your private interface. For example, MySQL might need to listen on the private interface so the web server can talk to it, but apache won&rsquo;t need to listen on the private interface. This reduces the profile of your instance on the private network and makes it a less likely target for attack.</p><p><strong>Use hosts.allow and hosts.deny</strong></p><p>Many new systems administrators forget about how handy tcpwrappers can be for limiting access. If your firewall is down in error, host.allow and hosts.deny could be an extra layer of protection. It&rsquo;s important to ensure that the daemons you are attempting to control are build with tcpwrappers support. Daemons like sshd support it, but apache and MySQL do not.</p><p><strong>Encrypt all traffic on the private network</strong></p><p>Just because it&rsquo;s called a &ldquo;private&rdquo; network doesn&rsquo;t mean that your traffic can traverse the network privately. You should always err on the side of caution and encrypt all traffic traversing the private network. You can use ssh tunnels, stunnel, or the built-in SSL features found in most daemons.</p><p>This also brings up an important point: <strong>you should know how your provider&rsquo;s private network works</strong>. Are there safeguards to prevent sniffing? Could someone else possibly ARP spoof your instance&rsquo;s private IP addresses? Is your private network&rsquo;s subnet shared among many customers?</p><p>With all of that said, it&rsquo;s also very important to have proper change control policies so that administrators working after you are fully aware of the security measures in place and why they are important. This will ensure that all of the administrators on your instances will understand the security of the system and they should be able to make sensible adjustments later for future functionality.</p></content><p><a href=https://major.io/tags/apache/>#apache</a>
<a href=https://major.io/tags/cloud/>#cloud</a>
<a href=https://major.io/tags/command-line/>#command line</a>
<a href=https://major.io/tags/encryption/>#encryption</a>
<a href=https://major.io/tags/iptables/>#iptables</a>
<a href=https://major.io/tags/mysql/>#mysql</a>
<a href=https://major.io/tags/network/>#network</a>
<a href=https://major.io/tags/security/>#security</a>
<a href=https://major.io/tags/ssl/>#ssl</a>
<a href=https://major.io/tags/sysadmin/>#sysadmin</a>
<a href=https://major.io/tags/tcpwrappers/>#tcpwrappers</a></p></main><footer><hr>CC-BY-SA 4.0 &#187;
Made with <a href=https://gohugo.io/>Hugo</a> &#187;
Theme based on <a href=https://github.com/janraasch/hugo-bearblog/>Hugo Ê•â€¢á´¥â€¢Ê” Bear</a><br><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "aca54cb1322647b89c43a40751f02ce4"}'></script></footer></body></html>