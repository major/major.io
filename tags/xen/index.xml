<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>xen on Major Hayden ðŸ¤ </title><link>https://major.io/tags/xen/</link><description>Recent content in xen on Major Hayden ðŸ¤ </description><generator>Hugo -- gohugo.io</generator><copyright>&lt;a href="https://creativecommons.org/licenses/by-sa/2.0/" target="_blank" rel="noopener">CC BY-SA 2.0&lt;/a></copyright><lastBuildDate>Wed, 15 Jun 2016 19:58:52 +0000</lastBuildDate><atom:link href="https://major.io/tags/xen/index.xml" rel="self" type="application/rss+xml"/><item><title>Whatâ€™s Happening in OpenStack-Ansible (WHOA) â€“ June 2016</title><link>https://major.io/2016/06/15/whats-happening-openstack-ansible-whoa-june-2016/</link><pubDate>Wed, 15 Jun 2016 19:58:52 +0000</pubDate><guid>https://major.io/2016/06/15/whats-happening-openstack-ansible-whoa-june-2016/</guid><description>The world of OpenStack moves quickly. Each day brings new features, new bug fixes, and new ways of thinking. The OpenStack-Ansible community strives to understand these changes and make them easier for operators to implement.
The OpenStack-Ansible project is a collection of playbooks and roles written by operators for operators. These playbooks make it easier to deploy, maintain, and upgrade an OpenStack cloud.
Keeping up with the changes in the OpenStack-Ansible project is challenging.</description></item><item><title>Xen 4.5 crashes during boot on Fedora 22</title><link>https://major.io/2015/05/27/xen-4-5-crashes-during-boot-on-fedora-22/</link><pubDate>Wed, 27 May 2015 12:33:21 +0000</pubDate><guid>https://major.io/2015/05/27/xen-4-5-crashes-during-boot-on-fedora-22/</guid><description>If you&amp;rsquo;re currently running a Xen hypervisor on a Fedora release before 22, stay put for now.
There&amp;rsquo;s a bug in Xen when you compile it with GCC 5 that will cause your system to get an error during bootup. In my case, I&amp;rsquo;m sometimes getting the crash shortly after the hypervisor to dom0 kernel handoff and sometimes it&amp;rsquo;s happening later in the boot process closer to when I&amp;rsquo;d expect a login screen to appear.</description></item><item><title>Xenâ€™s XSA-108 patch and Fedora</title><link>https://major.io/2014/10/02/xens-xsa-108-patch-fedora/</link><pubDate>Thu, 02 Oct 2014 12:39:11 +0000</pubDate><guid>https://major.io/2014/10/02/xens-xsa-108-patch-fedora/</guid><description>Xen&amp;rsquo;s latest vulnerability, XSA-108, has generated a lot of buzz over the last week. Most of the attention has come from the reboot notifications from large cloud providers (including my employer).
The vulnerability allows a user within a guest to potentially read memory from another guest or the hypervisor itself. The window of available memory is small but it could be read many times over - much like how the Heartbleed vulnerability was exploited.</description></item><item><title>Performance benchmarks: KVM vs. Xen</title><link>https://major.io/2014/06/22/performance-benchmarks-kvm-vs-xen/</link><pubDate>Sun, 22 Jun 2014 17:00:14 +0000</pubDate><guid>https://major.io/2014/06/22/performance-benchmarks-kvm-vs-xen/</guid><description>After having some interesting discussions last week around KVM and Xen performance improvements over the past years, I decided to do a little research on my own. The last complete set of benchmarks I could find were from the Phoronix Haswell tests in 2013. There were some other benchmarks from 2011 but those were hotly debated due to the Xen patches headed into kernel 3.0.
The 2011 tests had a good list of benchmarks and I&amp;rsquo;ve done my best to replicate that list here three years later.</description></item><item><title>Configure remote syslog for XenServer via the command line</title><link>https://major.io/2014/06/03/configure-remote-syslog-for-xenserver-via-the-command-line/</link><pubDate>Tue, 03 Jun 2014 17:55:59 +0000</pubDate><guid>https://major.io/2014/06/03/configure-remote-syslog-for-xenserver-via-the-command-line/</guid><description>Citrix has some helpful documentation online about configuring remote syslog support for XenServer using the XenCenter GUI. However, if you need to do this via configuration management or scripts, using a GUI isn&amp;rsquo;t an option.
Getting it done via the command line is relatively easy:
HOSTUUID=`xe host-list --minimal` SYSLOGHOST=syslog.example.com xe host-param-set uuid=${HOSTUUID} logging:syslog_destination=${SYSLOGHOST} xe host-syslog-reconfigure host-uuid=${HOSTUUID} Removing the configuration and going back to only local logging is easy as well:</description></item><item><title>Xen hackathon coming up in London</title><link>https://major.io/2014/03/27/xen-hackathon-coming-up-in-london/</link><pubDate>Thu, 27 Mar 2014 13:20:34 +0000</pubDate><guid>https://major.io/2014/03/27/xen-hackathon-coming-up-in-london/</guid><description>If you enjoy using Xen, join members of the Xen Project community and Rackspace at the Xen Hackathon in London. The two day event starts on May 29th.
Use these links to get more information:
Hackathon announcement and travel/venue/registration information Discussion topics You don&amp;rsquo;t need to be a developer to join the event. It&amp;rsquo;s a great networking opportunity and you can take time to learn more about virtualization and how Xen works under the hood.</description></item><item><title>virt-manager: â€˜NoneTypeâ€™ object has no attribute â€˜cpusâ€™</title><link>https://major.io/2014/03/06/virt-manager-nonetype-object-has-no-attribute-cpus/</link><pubDate>Thu, 06 Mar 2014 18:44:58 +0000</pubDate><guid>https://major.io/2014/03/06/virt-manager-nonetype-object-has-no-attribute-cpus/</guid><description>After upgrading my Fedora 20 Xen hypervisor to virt-manager 1.0.0, I noticed that I couldn&amp;rsquo;t open the console or VM details for any of my guests. Running virt-manager --debug gave me the following traceback:
Traceback (most recent call last): File &amp;quot;/usr/share/virt-manager/virtManager/engine.py&amp;quot;, line 803, in _show_vm_helper details = self._get_details_dialog(uri, uuid) File &amp;quot;/usr/share/virt-manager/virtManager/engine.py&amp;quot;, line 760, in _get_details_dialog obj = vmmDetails(con.get_vm(uuid)) File &amp;quot;/usr/share/virt-manager/virtManager/details.py&amp;quot;, line 530, in __init__ self.init_details() File &amp;quot;/usr/share/virt-manager/virtManager/details.py&amp;quot;, line 990, in init_details for name in [c.</description></item><item><title>Installing Xen on Fedora 20</title><link>https://major.io/2014/02/27/installing-xen-on-fedora-20/</link><pubDate>Fri, 28 Feb 2014 03:43:27 +0000</pubDate><guid>https://major.io/2014/02/27/installing-xen-on-fedora-20/</guid><description>I&amp;rsquo;ve written about installing Xen on Fedora 19 and earlier versions on this blog before. Let&amp;rsquo;s tackle it on Fedora 20.
Start with the Xen hypervisor and the basic toolset first:
yum -y install xen xen-hypervisor xen-libs xen-runtime systemctl enable xend.service systemctl enable xendomains.service Get GRUB2 in order:
# grep ^menuentry /boot/grub2/grub.cfg | cut -d &amp;quot;'&amp;quot; -f2 Fedora, with Linux 3.13.4-200.fc20.x86_64 Fedora, with Linux 0-rescue-c9dcecb251df472fbc8b4e620a749f6d Fedora, with Xen hypervisor # grub2-set-default 'Fedora, with Xen hypervisor' # grub2-editenv list saved_entry=Fedora, with Xen hypervisor # grub2-mkconfig -o /boot/grub2/grub.</description></item><item><title>A humble farewell to Seth Vidal</title><link>https://major.io/2013/07/09/a-humble-farewell-to-seth-vidal/</link><pubDate>Wed, 10 Jul 2013 02:58:36 +0000</pubDate><guid>https://major.io/2013/07/09/a-humble-farewell-to-seth-vidal/</guid><description>I was shocked to see Robyn Bergeron&amp;rsquo;s email today about Seth Vidal&amp;rsquo;s passing. He was the victim of a hit and run accident while he was cycling last night. The suspect has turned himself in as of tonight.
I first met Seth at FUDCon Tempe back in 2011. We had talked off and on via email and IRC about cloud-related topics. He was interested in how we assembled our cloud offering at Rackspace and I was eager to talk to him about building cloud images and handling mirrors.</description></item><item><title>Installing the Xen hypervisor on Fedora 19</title><link>https://major.io/2013/06/02/installing-the-xen-hypervisor-on-fedora-19/</link><pubDate>Mon, 03 Jun 2013 04:27:43 +0000</pubDate><guid>https://major.io/2013/06/02/installing-the-xen-hypervisor-on-fedora-19/</guid><description>It&amp;rsquo;s been a little while since I last posted about installing Xen on Fedora, so I figured that Fedora 19&amp;rsquo;s beta release was as good a time as any to write a new post. To get started, you&amp;rsquo;ll need to get Fedora 19 installed on your favorite hardware (or virtual machine).
Install the Xen hypervisor and tools. Also, ensure that both of the necessary daemons are running on each boot:</description></item><item><title>Boot the Xen hypervisor by default in Fedora 17 with GRUB 2</title><link>https://major.io/2012/07/16/boot-the-xen-hypervisor-by-default-in-fedora-17-with-grub-2/</link><pubDate>Mon, 16 Jul 2012 15:00:44 +0000</pubDate><guid>https://major.io/2012/07/16/boot-the-xen-hypervisor-by-default-in-fedora-17-with-grub-2/</guid><description>Although GRUB 2 does give us some nice benefits, changing its configuration can be a bit of a challenge if you&amp;rsquo;re used to working with the original GRUB for many, many years. I&amp;rsquo;ve recently installed some Fedora 17 systems with Xen and I&amp;rsquo;ve had to go back to the documentation to change the default GRUB 2 boot option. Hopefully this post will save you some time.
A good place to start reading is on Fedora&amp;rsquo;s own page about GRUB 2 and the helpful commands provided to manage its configuration.</description></item><item><title>Mounting an LVM snapshot containing partitions</title><link>https://major.io/2012/07/15/mounting-an-lvm-snapshot-containing-partitions/</link><pubDate>Sun, 15 Jul 2012 20:11:38 +0000</pubDate><guid>https://major.io/2012/07/15/mounting-an-lvm-snapshot-containing-partitions/</guid><description>LVM snapshots can be really handy when you&amp;rsquo;re trying to take a backup of a running virtual machine. However, mounting the snapshot can be tricky if the logical volume is partitioned.
I have a virtual machine running zoneminder on one of my servers at home and I needed to take a backup of the instance with rdiff-backup. I made a snapshot of the logical volume and attempted to mount it:</description></item><item><title>SELinux, Xen, and block devices in Fedora 17</title><link>https://major.io/2012/07/10/selinux-xen-and-block-devices-in-fedora-17/</link><pubDate>Tue, 10 Jul 2012 05:05:33 +0000</pubDate><guid>https://major.io/2012/07/10/selinux-xen-and-block-devices-in-fedora-17/</guid><description>If you try to run Xen without libvirt on Fedora 17 with SELinux in enforcing mode, you&amp;rsquo;ll be butting heads with SELinux in no time. You&amp;rsquo;ll probably be staring at something like this:
# xm create -c fedora17 Using config file &amp;quot;/etc/xen/fedora17&amp;quot;. Error: Disk isn't accessible If you have setroubleshoot and setroubleshoot-server installed, you should have a friendly message in /var/log/messages telling you the source of the problem:
setroubleshoot: SELinux is preventing /usr/bin/python2.</description></item><item><title>Fedora 17 XVA ready to import into XenServer</title><link>https://major.io/2012/06/03/fedora-17-xva-ready-to-import-into-xenserver/</link><pubDate>Mon, 04 Jun 2012 02:25:45 +0000</pubDate><guid>https://major.io/2012/06/03/fedora-17-xva-ready-to-import-into-xenserver/</guid><description>After I wrote a post about my kickstart update for Fedora 17, I asked if anyone wanted a XVA export of a working Fedora 17 instance. Without further ado, here&amp;rsquo;s the bzip2-compressed XVA file ready to be decompressed and imported into XenServer:
F17.xva.bz2 (221MB) The kickstart used to generate the XVA can be found on GitHub. To import this virtual machine export, use XenCenter or ssh to your XenServer instance and run:</description></item><item><title>Fedora 17 released, XenServer kickstarts updated</title><link>https://major.io/2012/05/30/fedora-17-released-xenserver-kickstarts-updated/</link><pubDate>Wed, 30 May 2012 20:50:42 +0000</pubDate><guid>https://major.io/2012/05/30/fedora-17-released-xenserver-kickstarts-updated/</guid><description>Fedora 17 was released yesterday and you can download it now!
In addition, I made some edits to my kickstarts repository on GitHub to match up with the final release of Fedora 17. The kickstart took less than ten minutes to complete even with a remote repository configured for RPM packages.
Fedora &amp;amp; XenServer users: Would posting an actual XVA file for download make it easier for you to get started?</description></item><item><title>Installing XenServer 6.0.2 on an AOpen MP57</title><link>https://major.io/2012/03/12/installing-xenserver-6-0-2-on-an-aopen-mp57/</link><pubDate>Mon, 12 Mar 2012 17:00:56 +0000</pubDate><guid>https://major.io/2012/03/12/installing-xenserver-6-0-2-on-an-aopen-mp57/</guid><description>Getting XenServer installed on some unusual platforms takes a bit of work and the AOpen MP57 is a challenging platform for a XenServer 6.0.2 installation.
My MP57 box came with the i57QMx-vP motherboard. If yours came with something else, this post may or may not work for you.
You&amp;rsquo;ll need the XenServer 6 installation ISO burned to a CD to get started. Boot the CD in your MP57 and wait for the initial boot screen to appear.</description></item><item><title>Installing Fedora 16 in XenServer</title><link>https://major.io/2012/02/11/installing-fedora-16-in-xenserver/</link><pubDate>Sun, 12 Feb 2012 03:39:11 +0000</pubDate><guid>https://major.io/2012/02/11/installing-fedora-16-in-xenserver/</guid><description>Getting Fedora 16 working in XenServer isn&amp;rsquo;t the easiest thing to do, but I&amp;rsquo;ve put together a repository on GitHub that should help. The repository contains a kickstart file along with some brief instructions to help with the installation. If you&amp;rsquo;re ready to get started right now, just clone the repository:
git clone git://github.com/rackerhacker/kickstarts.git kickstarts There are some big issues with Fedora 16 which cause problems for installations within XenServer:</description></item><item><title>XenServer 6: Storage repository on software RAID</title><link>https://major.io/2012/01/16/xenserver-6-storage-repository-on-software-raid/</link><pubDate>Mon, 16 Jan 2012 15:00:21 +0000</pubDate><guid>https://major.io/2012/01/16/xenserver-6-storage-repository-on-software-raid/</guid><description>Although Citrix recommends against using software RAID with XenServer due to performance issues, I&amp;rsquo;ve had some pretty awful experiences with hardware RAID cards over the last few years. In addition, the price of software RAID makes it a very desirable solution.
Before you get started, go through the steps to disable GPT. That post also explains an optional adjustment to get a larger root partition (which I would recommend). You cannot complete the steps in this post if your XenServer installation uses GPT.</description></item><item><title>XenServer 6: Disable GPT and get a larger root partition</title><link>https://major.io/2012/01/13/xenserver-6-disable-gpt-and-get-a-larger-root-partition/</link><pubDate>Fri, 13 Jan 2012 15:00:10 +0000</pubDate><guid>https://major.io/2012/01/13/xenserver-6-disable-gpt-and-get-a-larger-root-partition/</guid><description>XenServer 6 is a solid virtualization platform, but the installer doesn&amp;rsquo;t give you many options for customized configurations. By default, it installs with a 4GB root partition and uses GUID Partition Tables (GPT). GPT is new in XenServer 6.
I&amp;rsquo;d rather use MBR partition tables and get a larger root partition. If you want to make these adjustments in your XenServer 6 installation, follow these steps after booting into the XenServer 6 install disc:</description></item><item><title>Getting back to using eth0 in Fedora 15</title><link>https://major.io/2011/09/25/getting-back-to-using-eth0-in-fedora-15/</link><pubDate>Sun, 25 Sep 2011 22:08:20 +0000</pubDate><guid>https://major.io/2011/09/25/getting-back-to-using-eth0-in-fedora-15/</guid><description>Fedora 15 was released with some updates to allow for consistent network device names. Once it&amp;rsquo;s installed, you&amp;rsquo;ll end up with network devices that are named something other than eth0, eth1, and so on.
For example, all onboard ethernet adapters are labeled as emX (em1, em2â€¦) and all PCI ethernet adapters are labeled as pXpX (p[slot]p[port], like p7p1 for port 1 on slot 7). Ethernet devices within Xen virtual machines aren&amp;rsquo;t adjusted.</description></item><item><title>Xen Summit 2011: My Takeways</title><link>https://major.io/2011/08/08/xen-summit-2011-my-takeways/</link><pubDate>Mon, 08 Aug 2011 12:58:54 +0000</pubDate><guid>https://major.io/2011/08/08/xen-summit-2011-my-takeways/</guid><description>Quite a few people who couldn&amp;rsquo;t make it to Xen Summit 2011 this year asked me to write a post summarizing my takeaways from the event. I&amp;rsquo;m not generally one to back down from peer pressure, so read on if you&amp;rsquo;re interested about the discussions at this year&amp;rsquo;s Summit.
The feeling I had at last year&amp;rsquo;s summit is that Xen was on the verge of losing traction in the market. Very few distributions still had Xen support going forward and much of the discussion was around the lack of dom0 support in upstream Linux kernels.</description></item><item><title>Xen 4.1 on Fedora 15 with Linux 3.0</title><link>https://major.io/2011/08/05/xen-4-1-on-fedora-15-with-linux-3-0/</link><pubDate>Sat, 06 Aug 2011 04:34:06 +0000</pubDate><guid>https://major.io/2011/08/05/xen-4-1-on-fedora-15-with-linux-3-0/</guid><description>If you haven&amp;rsquo;t noticed already, full Xen dom0 support was added in the Linux 3.0 kernel. This means there&amp;rsquo;s no longer a need to drag patches forward from old kernels and work from special branches and git repositories when building a kernel for dom0.
Something else you might not have noticed is that the Fedora kernel team has quietly slipped Linux 3.0 into Fedora 15&amp;rsquo;s update channels in disguise. Click that link, scroll down, and you&amp;rsquo;ll see â€œRebase to 3.</description></item><item><title>Upgrading Fedora 13 to Fedora 14 on Slicehost and Rackspace Cloud Servers</title><link>https://major.io/2010/11/03/upgrading-fedora-13-to-fedora-14-on-slicehost-and-rackspace-cloud-servers/</link><pubDate>Wed, 03 Nov 2010 20:02:45 +0000</pubDate><guid>https://major.io/2010/11/03/upgrading-fedora-13-to-fedora-14-on-slicehost-and-rackspace-cloud-servers/</guid><description>On most systems, using Fedora&amp;rsquo;s preupgrade package is the most reliable way to update to the next Fedora release. However, this isn&amp;rsquo;t the case with Slicehost and Rackspace Cloud Servers.
Here are the steps for an upgrade from Fedora 13 to Fedora 14 via yum:
yum -y upgrade wget http://mirror.rackspace.com/fedora/releases/14/Fedora/x86_64/os/Packages/fedora-release-14-1.noarch.rpm rpm -Uvh fedora-release-14-1.noarch.rpm yum -y install yum yum -y upgrade If you happen to be upgrading a 32-bit instance on Slicehost, simply replace x86_64 with i386 in the url shown above.</description></item><item><title>Installing Xen 4 on Fedora 13</title><link>https://major.io/2010/09/10/installing-xen-4-on-fedora-13/</link><pubDate>Fri, 10 Sep 2010 13:56:49 +0000</pubDate><guid>https://major.io/2010/09/10/installing-xen-4-on-fedora-13/</guid><description>Installing Xen can be a bit of a challenge for a beginner and it&amp;rsquo;s made especially difficult by distribution vendors who aren&amp;rsquo;t eager to include it in their current releases. I certainly don&amp;rsquo;t blame the distribution vendors for omitting it; the code to support Xen&amp;rsquo;s privileged domain isn&amp;rsquo;t currently in upstream kernels.
However, Pasi KÃ¤rkkÃ¤inen has written a detailed walkthrough about how to get Xen 4 running on Fedora 13. Although there are quite a few steps involved, it&amp;rsquo;s worked well for me so far.</description></item><item><title>Legacy tty1 and block device support for Xen guests with pvops kernels</title><link>https://major.io/2010/05/14/legacy-tty1-and-block-device-support-for-xen-guests-with-pvops-kernels/</link><pubDate>Fri, 14 May 2010 13:24:34 +0000</pubDate><guid>https://major.io/2010/05/14/legacy-tty1-and-block-device-support-for-xen-guests-with-pvops-kernels/</guid><description>The discussions about the paravirt_ops, or &amp;ldquo;pvops&amp;rdquo;, support in upstream kernels at Xen Summit 2010 last month really piqued my interest.
Quite a few distribution maintainers have gone to great lengths to keep Xen domU support in their kernels and it&amp;rsquo;s been an uphill battle. Some kernels, such as Ubuntu&amp;rsquo;s linux-ec2 kernels, have patches from 2.6.18 dragged forward into 2.6.32 and even 2.6.33. It certainly can&amp;rsquo;t be enjoyable to keep dragging those patches forward into new kernel trees.</description></item></channel></rss>