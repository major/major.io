<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>iowait on Major Hayden ü§†</title><link>https://major.io/tags/iowait/</link><description>Recent content in iowait on Major Hayden ü§†</description><generator>Hugo -- gohugo.io</generator><copyright>&lt;a href="https://creativecommons.org/licenses/by-sa/2.0/" target="_blank" rel="noopener">CC BY-SA 2.0&lt;/a></copyright><lastBuildDate>Thu, 07 Aug 2008 17:00:27 +0000</lastBuildDate><atom:link href="https://major.io/tags/iowait/index.xml" rel="self" type="application/rss+xml"/><item><title>Reduce disk I/O for small reads using memory</title><link>https://major.io/2008/08/07/reduce-disk-io-for-small-reads-using-memory/</link><pubDate>Thu, 07 Aug 2008 17:00:27 +0000</pubDate><guid>https://major.io/2008/08/07/reduce-disk-io-for-small-reads-using-memory/</guid><description>Many applications that are used on a standard server perform quite a few of small writes to the disk (like MySQL or Apache). These writes can pile up and limit the performance of your applications. If you have kernel 2.6.9 or later, you can adjust how these small writes are handled to allow for better performance.
There&amp;rsquo;s two main kernel variables to know:
vm.dirty_ratio - The highest % of your memory that can be used to hold dirty data.</description></item><item><title>Reduce iowait in Plesk: put qmail‚Äôs queue on a ramdisk</title><link>https://major.io/2008/03/14/reduce-iowait-in-plesk-put-qmails-queue-on-a-ramdisk/</link><pubDate>Fri, 14 Mar 2008 18:16:57 +0000</pubDate><guid>https://major.io/2008/03/14/reduce-iowait-in-plesk-put-qmails-queue-on-a-ramdisk/</guid><description>I really dislike qmail. But, since I use Plesk, I&amp;rsquo;m stuck with it. However, I found a way to improve it&amp;rsquo;s awful mail queue performance by putting the mail queue onto a ramdisk. This is actually pretty darned easy to do.
First, toss a line like this into your /etc/fstab:
none /mailqueue tmpfs defaults,size=100m,nr_inodes=999k,mode=775 0 0 This will make a 100MB ramdisk on /mailqueue. Now, just symlink /var/qmail/mqueue to /mailqueue and move your e-mail over:</description></item><item><title>Hunting down elusive sources of iowait</title><link>https://major.io/2008/03/11/hunting-down-elusive-sources-of-iowait/</link><pubDate>Tue, 11 Mar 2008 18:00:18 +0000</pubDate><guid>https://major.io/2008/03/11/hunting-down-elusive-sources-of-iowait/</guid><description>A question I&amp;rsquo;m asked daily is ‚ÄúHow can I find out what is generating iowait on my server?‚Äù Sure, you can dig through pages of lsof output, restart services, or run strace, but it can be a frustrating process. I saw a process on this blog post, and I changed the regexes to fit Red Hat and CentOS systems a bit better:
# /etc/init.d/syslog stop # echo 1 &amp;gt; /proc/sys/vm/block_dump # dmesg | egrep &amp;quot;READ|WRITE|dirtied&amp;quot; | egrep -o '([a-zA-Z]*)' | sort | uniq -c | sort -rn | head 1526 mysqld 819 httpd 429 kjournald 35 qmail 27 in 7 imapd 6 irqbalance 5 pop 4 pdflush 3 spamc In my specific situation, it looks like MySQL is the biggest abuser of my disk, followed by Apache and the filesystem journaling.</description></item><item><title>High iowait on RHEL 4 with Plesk and SpamAssassin</title><link>https://major.io/2008/01/31/high-iowait-on-rhel-4-with-plesk-and-spamassassin/</link><pubDate>Thu, 31 Jan 2008 18:38:58 +0000</pubDate><guid>https://major.io/2008/01/31/high-iowait-on-rhel-4-with-plesk-and-spamassassin/</guid><description>One of my biggest complaints on RHEL 4 is the large resource usage by the version of SpamAssassin that is installed. When it runs, it uses a ton of CPU time and causes a lot of disk I/O as well. When running top, you may see multiple spamd processes. For a high-volume e-mail server (like the one I administer), this is simply unacceptable.
I decided to do something about it, and here are the steps:</description></item></channel></rss>