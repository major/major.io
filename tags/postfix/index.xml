<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>postfix on Major Hayden's Blog ðŸ¤ </title><link>https://major.io/tags/postfix/</link><description>Recent content in postfix on Major Hayden's Blog ðŸ¤ </description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Fri, 20 Jun 2014 13:20:56 +0000</lastBuildDate><atom:link href="https://major.io/tags/postfix/index.xml" rel="self" type="application/rss+xml"/><item><title>Fixing broken DNS lookups in spamassassin</title><link>https://major.io/2014/06/20/fixing-broken-dns-lookups-in-spamassassin/</link><pubDate>Fri, 20 Jun 2014 13:20:56 +0000</pubDate><guid>https://major.io/2014/06/20/fixing-broken-dns-lookups-in-spamassassin/</guid><description>I talked about the joys of running my own mail server last week only to find that my mail server was broken yesterday. Spamassassin stopped doing DNS lookups for RBL and SPF checks.
I had one of these moments:
My logs looked like this:
plugin: eval failed: available_nameservers: No DNS servers available! plugin: eval failed: available_nameservers: No DNS servers available! rules: failed to run NO_DNS_FOR_FROM RBL test, skipping: (available_nameservers: [.</description></item><item><title>Remove sensitive information from email headers with postfix</title><link>https://major.io/2013/04/14/remove-sensitive-information-from-email-headers-with-postfix/</link><pubDate>Mon, 15 Apr 2013 02:59:34 +0000</pubDate><guid>https://major.io/2013/04/14/remove-sensitive-information-from-email-headers-with-postfix/</guid><description>I&amp;rsquo;m in the process of moving back to a postfix/dovecot setup for hosting my own mail and I wanted a way to remove the more sensitive email headers that are normally generated when I send mail. My goal is to hide the originating IP address of my mail as well as my mail client type and version.
To get started, make a small file with regular expressions in /etc/postfix/header_checks:
/^Received:.*with ESMTPSA/ IGNORE /^X-Originating-IP:/ IGNORE /^X-Mailer:/ IGNORE /^Mime-Version:/ IGNORE The &amp;ldquo;ESMTPSA&amp;rdquo; match works for me because I only send email via port 465.</description></item><item><title>SELinux and .forward files</title><link>https://major.io/2012/01/02/selinux-and-forward-files/</link><pubDate>Mon, 02 Jan 2012 22:44:43 +0000</pubDate><guid>https://major.io/2012/01/02/selinux-and-forward-files/</guid><description>If you want to forward e-mail from root to another user, you can usually place a .forward file in root&amp;rsquo;s home directory and your mail server will take care of the rest:
/root/.forward With SELinux, you&amp;rsquo;ll end up getting an AVC denial each time your mail server tries to read the contents of the .forward file:
type=AVC msg=audit(1325543823.787:7416): avc: denied { open } for pid=9850 comm=&amp;quot;local&amp;quot; name=&amp;quot;.forward&amp;quot; dev=md0 ino=17694734 scontext=system_u:system_r:postfix_local_t:s0 tcontext=unconfined_u:object_r:admin_home_t:s0 tclass=file The reason is that your .</description></item><item><title>Basic procmail configuration with spamassassin filtering</title><link>https://major.io/2008/08/13/basic-procmail-configuration-with-spamassassin-filtering/</link><pubDate>Wed, 13 Aug 2008 17:00:48 +0000</pubDate><guid>https://major.io/2008/08/13/basic-procmail-configuration-with-spamassassin-filtering/</guid><description>I&amp;rsquo;ve used this extremely basic procmail configuration a million times, and it&amp;rsquo;s a great start for any server configuration. It passes e-mails through spamassassin (if they&amp;rsquo;re smaller than 256KB) and then filters any e-mail marked as spam to /dev/null:
LOGFILE=/var/log/procmail.log DROPPRIVS=yes&amp;lt;/p&amp;gt; &amp;lt;p&amp;gt;:0fw | /usr/bin/spamc&amp;lt;/p&amp;gt; &amp;lt;p&amp;gt;:0 * ^X-Spam-Status: Yes /dev/null Of course, you can make this much more complicated with some additional customization.</description></item><item><title>Enable submission port 587 in Postfix</title><link>https://major.io/2007/07/04/enable-submission-port-587-in-postfix/</link><pubDate>Thu, 05 Jul 2007 00:29:36 +0000</pubDate><guid>https://major.io/2007/07/04/enable-submission-port-587-in-postfix/</guid><description>Enabling submission port support for Postfix is really easy. To have postfix listen on both 25 and 587, be sure that the line starting with submission is uncommented in /etc/postfix/master.cf:
smtp inet n - n - - smtpd submission inet n - n - - smtpd</description></item></channel></rss>