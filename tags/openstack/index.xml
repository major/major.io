<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>openstack on Major Hayden ü§†</title><link>https://major.io/tags/openstack/</link><description>Recent content in openstack on Major Hayden ü§†</description><generator>Hugo -- gohugo.io</generator><copyright>&lt;a href="https://creativecommons.org/licenses/by-sa/2.0/" target="_blank" rel="noopener">CC BY-SA 2.0&lt;/a></copyright><lastBuildDate>Wed, 07 Mar 2018 16:18:51 +0000</lastBuildDate><atom:link href="https://major.io/tags/openstack/index.xml" rel="self" type="application/rss+xml"/><item><title>Reaching the fork in the road</title><link>https://major.io/2018/03/07/reaching-the-fork-in-the-road/</link><pubDate>Wed, 07 Mar 2018 16:18:51 +0000</pubDate><guid>https://major.io/2018/03/07/reaching-the-fork-in-the-road/</guid><description>Walt Disney said it best:
We keep moving forward, opening new doors, and doing new things, because we&amp;rsquo;re curious and curiosity keeps leading us down new paths.
The world of technology is all about change. We tear down the old things that get in our way and we build new technology that takes us to new heights. Tearing down these old things can often be difficult and that forces us to make difficult choices.</description></item><item><title>Ensuring keepalived starts after the network is ready</title><link>https://major.io/2017/12/15/ensuring-keepalived-starts-network-ready/</link><pubDate>Fri, 15 Dec 2017 21:18:37 +0000</pubDate><guid>https://major.io/2017/12/15/ensuring-keepalived-starts-network-ready/</guid><description>After a recent OpenStack-Ansible (OSA) deployment on CentOS, I found that keepalived was not starting properly at boot time:
Keepalived_vrrp[801]: Cant find interface br-mgmt for vrrp_instance internal !!! Keepalived_vrrp[801]: Truncating auth_pass to 8 characters Keepalived_vrrp[801]: VRRP is trying to assign ip address 172.29.236.11/32 to unknown br-mgmt interface !!! go out and fix your conf !!! Keepalived_vrrp[801]: Cant find interface br-mgmt for vrrp_instance external !!! Keepalived_vrrp[801]: Truncating auth_pass to 8 characters Keepalived_vrrp[801]: VRRP is trying to assign ip address 192.</description></item><item><title>Changes in RHEL 7 Security Technical Implementation Guide Version 1, Release 3</title><link>https://major.io/2017/11/02/changes-in-rhel-7-security-technical-implementation-guide-version-1-release-3/</link><pubDate>Thu, 02 Nov 2017 15:00:25 +0000</pubDate><guid>https://major.io/2017/11/02/changes-in-rhel-7-security-technical-implementation-guide-version-1-release-3/</guid><description>The latest release of the Red Hat Enterprise Linux Security Technical Implementation Guide (STIG) was published last week. This release is Version 1, Release 3, and it contains four main changes:
V-77819 - Multifactor authentication is required for graphical logins V-77821 - Datagram Congestion Control Protocol (DCCP) kernel module must be disabled V-77823 - Single user mode must require user authentication V-77825 - Address space layout randomization (ASLR) must be enabled Deep dive Let&amp;rsquo;s break down this list to understand what each one means.</description></item><item><title>Import RPM repository GPG keys from other keyservers temporarily</title><link>https://major.io/2017/09/20/import-rpm-repository-keys-from-other-keyservers-temporarily/</link><pubDate>Wed, 20 Sep 2017 15:24:13 +0000</pubDate><guid>https://major.io/2017/09/20/import-rpm-repository-keys-from-other-keyservers-temporarily/</guid><description>I&amp;rsquo;ve been working through some patches to OpenStack-Ansible lately to optimize how we configure yum repositories in our deployments. During that work, I ran into some issues where pgp.mit.edu was returning 500 errors for some requests to retrieve GPG keys.
Ansible was returning this error:
curl: (22) The requested URL returned error: 502 Proxy Error error: http://pgp.mit.edu:11371/pks/lookup?op=get&amp;amp;search=0x61E8806C: import read failed(2) How does the rpm command know which keyserver to use? Let&amp;rsquo;s use the --showrc argument to show how it is configured:</description></item><item><title>Enable AppArmor on a Debian Jessie cloud image</title><link>https://major.io/2017/05/24/enable-apparmor-on-a-debian-jessie-cloud-image/</link><pubDate>Wed, 24 May 2017 16:14:03 +0000</pubDate><guid>https://major.io/2017/05/24/enable-apparmor-on-a-debian-jessie-cloud-image/</guid><description>I merged some initial Debian support into the openstack-ansible-security role and ran into an issue enabling AppArmor. The apparmor service failed to start and I found this output in the system journal:
kernel: AppArmor: AppArmor disabled by boot time parameter Digging in That was unexpected. I was using the Debian jessie cloud image and it uses extlinux as the bootloader. The file didn&amp;rsquo;t reference AppArmor at all:
# cat /boot/extlinux/extlinux.conf default linux timeout 1 label linux kernel boot/vmlinuz-3.</description></item><item><title>Fixing OpenStack noVNC consoles that ignore keyboard input</title><link>https://major.io/2017/05/18/fixing-openstack-novnc-consoles-that-ignore-keyboard-input/</link><pubDate>Thu, 18 May 2017 16:58:56 +0000</pubDate><guid>https://major.io/2017/05/18/fixing-openstack-novnc-consoles-that-ignore-keyboard-input/</guid><description>I opened up a noVNC console to a virtual machine today in my OpenStack cloud but found that the console wouldn&amp;rsquo;t take keyboard input. The Send Ctrl-Alt-Del button in the top right of the window worked just fine, but I couldn&amp;rsquo;t type anywhere in the console. This happened on an Ocata OpenStack cloud deployed with OpenStack-Ansible on CentOS 7.
Test the network path The network path to the console is a little deep for this deployment, but here&amp;rsquo;s a quick explanation:</description></item><item><title>OpenStack Summit Boston 2017 Recap</title><link>https://major.io/2017/05/11/openstack-summit-boston-2017-recap/</link><pubDate>Fri, 12 May 2017 00:25:55 +0000</pubDate><guid>https://major.io/2017/05/11/openstack-summit-boston-2017-recap/</guid><description>The OpenStack Summit wrapped up today in Boston and it was a great week! There were plenty of informative breakouts and some interesting keynotes.
Keynotes Beth Cohen shared some of the work that Verizon has done with software-defined WAN on customer-premises equipment (CPE). She showed a demo of how customers could easily provision virtual network hardware, such as firewalls or intrusion detection systems, without waiting for hardware or cabling changes. I&amp;rsquo;m less familiar with the world of telcos, so I found this really interesting.</description></item><item><title>OpenStack-Ansible networking on CentOS 7 with systemd-networkd</title><link>https://major.io/2017/04/13/openstack-ansible-on-centos-7-with-systemd-networkd/</link><pubDate>Thu, 13 Apr 2017 13:18:09 +0000</pubDate><guid>https://major.io/2017/04/13/openstack-ansible-on-centos-7-with-systemd-networkd/</guid><description>Although OpenStack-Ansible doesn&amp;rsquo;t fully support CentOS 7 yet, the support is almost ready. I have a four node Ocata cloud deployed on CentOS 7, but I decided to change things around a bit and use systemd-networkd instead of NetworkManager or the old rc scripts.
This post will explain how to configure the network for an OpenStack-Ansible cloud on CentOS 7 with systemd-networkd.
Each one of my OpenStack hosts has four network interfaces and each one has a specific task:</description></item><item><title>RHEL 7 STIG v1 updates for openstack-ansible-security</title><link>https://major.io/2017/04/05/rhel-7-stig-v1-updates-for-openstack-ansible-security/</link><pubDate>Wed, 05 Apr 2017 17:46:17 +0000</pubDate><guid>https://major.io/2017/04/05/rhel-7-stig-v1-updates-for-openstack-ansible-security/</guid><description>DISA&amp;rsquo;s final release of the Red Hat Enterprise Linux (RHEL) 7 Security Technical Implementation Guide (STIG) came out a few weeks ago and it has plenty of improvements and changes. The openstack-ansible-security role has already been updated with these changes.
Quite a few duplicated STIG controls were removed and a few new ones were added. Some of the controls in the pre-release were difficult to implement, especially those that changed parameters for PKI-based authentication.</description></item><item><title>OpenStack isn‚Äôt dead. It‚Äôs boring. That‚Äôs a good thing.</title><link>https://major.io/2017/02/24/openstack-isnt-dead-its-boring-thats-a-good-thing/</link><pubDate>Fri, 24 Feb 2017 16:06:24 +0000</pubDate><guid>https://major.io/2017/02/24/openstack-isnt-dead-its-boring-thats-a-good-thing/</guid><description>NOTE: The opinions shared in this post are mine alone and are not related to my employer in any way.
The first OpenStack Project Teams Gathering (PTG) event was held this week in Atlanta. The week was broken into two parts: cross-project work on Monday and Tuesday, and individual projects Wednesday through Friday. I was there for the first two days and heard a few discussions that started the same way.</description></item><item><title>What I‚Äôm looking forward to at IBM Interconnect 2017</title><link>https://major.io/2017/02/23/what-im-looking-forward-to-at-ibm-interconnect-2017/</link><pubDate>Thu, 23 Feb 2017 16:35:02 +0000</pubDate><guid>https://major.io/2017/02/23/what-im-looking-forward-to-at-ibm-interconnect-2017/</guid><description>IBM Interconnect 2017 is coming up next month in Las Vegas. Last year&amp;rsquo;s conference was a whirlwind of useful talks, inspiring hallway conversations, and great networking opportunities. I was exhausted by the week&amp;rsquo;s end, but it was totally worth it.
One of my favorite sessions from last year was Tanmay Bakshi&amp;rsquo;s keynote. It was truly inspiring to see someone so young take command of such a large stage and teach us all something.</description></item><item><title>systemd-networkd on Ubuntu 16.04 LTS (Xenial)</title><link>https://major.io/2017/01/15/systemd-networkd-on-ubuntu-16-04-lts-xenial/</link><pubDate>Sun, 15 Jan 2017 15:24:40 +0000</pubDate><guid>https://major.io/2017/01/15/systemd-networkd-on-ubuntu-16-04-lts-xenial/</guid><description>My OpenStack cloud depends on Ubuntu, and the latest release of OpenStack-Ansible (what I use to deploy OpenStack) requires Ubuntu 16.04 at a minimum. I tried upgrading the servers in place from Ubuntu 14.04 to 16.04, but that didn&amp;rsquo;t work so well. Those servers wouldn&amp;rsquo;t boot and the only recourse was a re-install.
Once I finished re-installing them (and wrestling with several installer bugs in Ubuntu 16.04), it was time to set up networking.</description></item><item><title>augenrules fails with ‚Äúrule exists‚Äù when loading rules into auditd</title><link>https://major.io/2017/01/03/augenrules-fails-with-rule-exists-when-loading-rules-into-auditd/</link><pubDate>Tue, 03 Jan 2017 19:01:46 +0000</pubDate><guid>https://major.io/2017/01/03/augenrules-fails-with-rule-exists-when-loading-rules-into-auditd/</guid><description>When I came back from the holiday break, I found that the openstack-ansible-security role wasn&amp;rsquo;t passing tests any longer. The Ansible playbook stopped when augenrules ran to load the new audit rules. The error wasn&amp;rsquo;t terribly helpful:
/usr/sbin/augenrules: No change Error sending add rule data request (Rule exists) There was an error in line 5 of /etc/audit/audit.rules A duplicated rule? I&amp;rsquo;ve been working on lots of changes to implement the Red Hat Enterprise Linux 7 Security Technical Implementation Guide (STIG) and I assumed I put in the same rule twice with an errant copy and paste.</description></item><item><title>Talk Recap: Holistic Security for OpenStack Clouds</title><link>https://major.io/2016/10/31/talk-recap-holistic-security-for-openstack-clouds/</link><pubDate>Mon, 31 Oct 2016 15:52:47 +0000</pubDate><guid>https://major.io/2016/10/31/talk-recap-holistic-security-for-openstack-clouds/</guid><description>Thanks to everyone who attended my talk at the OpenStack Summit in Barcelona! I really enjoyed sharing some tips with the audience and it was great to meet some attendees in person afterwards.
If you weren&amp;rsquo;t able to make it, don&amp;rsquo;t fret! This post will cover some of the main points of the talk and link to the video and slides.
Purpose OpenStack clouds are inherently complex. Operating a cloud involves a lot of moving pieces in software, hardware, and networking.</description></item><item><title>What‚Äôs Happening in OpenStack-Ansible (WHOA) ‚Äì September 2016</title><link>https://major.io/2016/09/30/whats-happening-in-openstack-ansible-whoa-september-2016/</link><pubDate>Fri, 30 Sep 2016 14:33:33 +0000</pubDate><guid>https://major.io/2016/09/30/whats-happening-in-openstack-ansible-whoa-september-2016/</guid><description>Welcome to the fourth post in the series of What&amp;rsquo;s Happening in OpenStack-Ansible (WHOA) posts that I&amp;rsquo;m assembling each month. OpenStack-Ansible is a flexible framework for deploying enterprise-grade OpenStack clouds. In fact, I use OpenStack-Ansible to deploy the OpenStack cloud underneath the virtual machine that runs this blog!
My goal with these posts is to inform more people about what we&amp;rsquo;re doing in the OpenStack-Ansible community and bring on more contributors to the project.</description></item><item><title>Getting ready for IBM Edge 2016</title><link>https://major.io/2016/09/14/getting-ready-for-ibm-edge-2016/</link><pubDate>Wed, 14 Sep 2016 13:00:28 +0000</pubDate><guid>https://major.io/2016/09/14/getting-ready-for-ibm-edge-2016/</guid><description>IBM Edge 2016 starts next week in Las Vegas with an emphasis on changing how we think about technology. I&amp;rsquo;ll definitely be interested in the sessions on open source technology and advances in OpenPOWER.
Here are a few of the sessions from my must-see list:
OpenPower Revolution in the Datacenter IBM Power Systems - Made for the future of Cloud - Tech and Strategy Overview Scalable TensorFlow Deep Learning Deploying an OpenStack Cloud on POWER8 Using Ubuntu Metal-as-a-Service and Juju Power Cloud: PowerVM in a Heterogenous OpenStack Cloud (from members of the OpenStack-Ansible community!</description></item><item><title>What‚Äôs Happening in OpenStack-Ansible (WHOA) ‚Äì August 2016</title><link>https://major.io/2016/08/23/whats-happening-in-openstack-ansible-whoa-august-2016/</link><pubDate>Tue, 23 Aug 2016 20:35:19 +0000</pubDate><guid>https://major.io/2016/08/23/whats-happening-in-openstack-ansible-whoa-august-2016/</guid><description>Welcome to the third post in the series of What&amp;rsquo;s Happening in OpenStack-Ansible (WHOA) posts that I&amp;rsquo;m assembling each month. OpenStack-Ansible is a flexible framework for deploying enterprise-grade OpenStack clouds. In fact, I use OpenStack-Ansible to deploy the OpenStack cloud underneath the virtual machine that runs this blog!
My goal with these posts is to inform more people about what we&amp;rsquo;re doing in the OpenStack-Ansible community and bring on more contributors to the project.</description></item><item><title>Preventing critical services from deploying on the same OpenStack host</title><link>https://major.io/2016/08/09/preventing-critical-services-from-deploying-on-the-same-openstack-host/</link><pubDate>Tue, 09 Aug 2016 17:07:35 +0000</pubDate><guid>https://major.io/2016/08/09/preventing-critical-services-from-deploying-on-the-same-openstack-host/</guid><description>OpenStack&amp;rsquo;s compute service, nova, manages all of the virtual machines within a OpenStack cloud. When you ask nova to build an instance, or a group of instances, nova&amp;rsquo;s scheduler system determines which hypervisors should run each instance. The scheduler uses filters to figure out where each instance belongs.
However, there are situations where the scheduler might put more than one of your instances on the same host, especially when resources are constrained.</description></item><item><title>OpenStack instances come online with multiple network ports attached</title><link>https://major.io/2016/08/03/openstack-instances-come-online-with-multiple-network-ports-attached/</link><pubDate>Wed, 03 Aug 2016 14:40:16 +0000</pubDate><guid>https://major.io/2016/08/03/openstack-instances-come-online-with-multiple-network-ports-attached/</guid><description>I ran into an interesting problem recently in my production OpenStack deployment that runs the Mitaka release. On various occasions, instances were coming online with multiple network ports attached, even though I only asked for one network port.
The problem If I issued a build request for ten instances, I&amp;rsquo;d usually end up with this:
6 instances with one network port attached 2-3 instances with two network ports attached (not what I want) 1-2 instances with three or four network ports attached (definitely not what I want) When I examined the instances with multiple network ports attached, I found that one of the network ports would be marked as up while the others would be marked as down.</description></item><item><title>Setting up a telnet handler for OpenStack Zuul CI jobs in GNOME 3</title><link>https://major.io/2016/07/22/setting-up-a-telnet-handler-in-gnome-3/</link><pubDate>Fri, 22 Jul 2016 19:44:07 +0000</pubDate><guid>https://major.io/2016/07/22/setting-up-a-telnet-handler-in-gnome-3/</guid><description>The OpenStack Zuul system has gone through some big changes recently, and one of those changes is around how you monitor a running CI job. I work on OpenStack-Ansible quite often, and the gate jobs can take almost an hour to complete at times. It can be helpful to watch the output of a Zuul job to catch a problem or follow a breakpoint.
New Zuul In the previous version of Zuul, you could access the Jenkins server that was running the CI job and monitor its progress right in your browser.</description></item><item><title>What‚Äôs Happening in OpenStack-Ansible (WHOA) ‚Äì July 2016</title><link>https://major.io/2016/07/22/whats-happening-in-openstack-ansible-whoa-july-2016/</link><pubDate>Fri, 22 Jul 2016 15:48:18 +0000</pubDate><guid>https://major.io/2016/07/22/whats-happening-in-openstack-ansible-whoa-july-2016/</guid><description>This post is the second installment in the series of What&amp;rsquo;s Happening in OpenStack-Ansible (WHOA) posts that I&amp;rsquo;m assembling each month. My goal is to inform more people about what we&amp;rsquo;re doing in the OpenStack-Ansible community and bring on more contributors to the project.
July brought lots of changes for the OpenStack-Ansible project and the remaining work for the Newton release is coming together well. Many of the changes made in the Newton branch have made deployments faster, more reliable and more repeatable.</description></item><item><title>Join me on Thursday to talk about OpenStack LBaaS and security hardening</title><link>https://major.io/2016/07/19/join-me-on-thursday-to-talk-about-openstack-lbaas-and-security/</link><pubDate>Tue, 19 Jul 2016 14:09:40 +0000</pubDate><guid>https://major.io/2016/07/19/join-me-on-thursday-to-talk-about-openstack-lbaas-and-security/</guid><description>If you want to learn more about load balancers and security hardening in OpenStack clouds, join me on Thursday for the Rackspace Office Hours podcast! Walter Bentley, Kenneth Hui and I will be talking about some of the new features available in the 12.2 release of Rackspace Private Cloud powered by OpenStack.
The release has a tech preview of OpenStack&amp;rsquo;s Load Balancer as a Service project. The new LBaaSv2 API is stable and makes it easy to create load balancers, add pools, and add members.</description></item><item><title>Talk recap: The friendship of OpenStack and Ansible</title><link>https://major.io/2016/06/28/talk-recap/</link><pubDate>Wed, 29 Jun 2016 03:43:21 +0000</pubDate><guid>https://major.io/2016/06/28/talk-recap/</guid><description>The 2016 Red Hat Summit is underway in San Francisco this week and I delivered a talk with Robyn Bergeron earlier today. Our talk, When flexibility met simplicity: The friendship of OpenStack and Ansible, explained how Ansible can reduce the complexity of OpenStack environments without sacrificing the flexibility that private clouds offer.
The talk started at the same time as lunch began and the Partner Pavilion first opened, so we had some stiff competition for attendees' attention.</description></item><item><title>My list of must-see sessions at Red Hat Summit 2016</title><link>https://major.io/2016/06/26/almost-time-red-hat-summit-2016/</link><pubDate>Sun, 26 Jun 2016 10:52:38 +0000</pubDate><guid>https://major.io/2016/06/26/almost-time-red-hat-summit-2016/</guid><description>The Red Hat Summit starts this week in San Francisco, and a few folks asked me about the sessions that they shouldn&amp;rsquo;t miss. The schedule can be overwhelming for first timers and it can be difficult at times to discern the technical sessions from the ones that are more sales-oriented.
If you&amp;rsquo;re in San Francisco, and you want to learn a bit more about using Ansible to manage OpenStack environments, come to the session that I am co-presenting with Robyn Bergeron: When flexibility met simplicity: The friendship of OpenStack and Ansible.</description></item><item><title>What‚Äôs Happening in OpenStack-Ansible (WHOA) ‚Äì June 2016</title><link>https://major.io/2016/06/15/whats-happening-openstack-ansible-whoa-june-2016/</link><pubDate>Wed, 15 Jun 2016 19:58:52 +0000</pubDate><guid>https://major.io/2016/06/15/whats-happening-openstack-ansible-whoa-june-2016/</guid><description>The world of OpenStack moves quickly. Each day brings new features, new bug fixes, and new ways of thinking. The OpenStack-Ansible community strives to understand these changes and make them easier for operators to implement.
The OpenStack-Ansible project is a collection of playbooks and roles written by operators for operators. These playbooks make it easier to deploy, maintain, and upgrade an OpenStack cloud.
Keeping up with the changes in the OpenStack-Ansible project is challenging.</description></item></channel></rss>