<!doctype html><html lang=en dir=ltr class=scroll-smooth data-default-appearance=dark data-auto-appearance=false><head><meta charset=utf-8><meta http-equiv=content-language content="en"><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><title>Linux support for the Dell XPS 13 9343 (2015 model) &#183; ü§† Major Hayden</title><meta name=title content="Linux support for the Dell XPS 13 9343 (2015 model) &#183; ü§† Major Hayden"><meta name=description content="A social nerd writing about everything"><link rel=canonical href=https://major.io/2015/02/03/linux-support-dell-xps-13-9343-2015-model/><link type=text/css rel=stylesheet href=/css/main.bundle.min.55253fde34a251b02bdc3be052caf9044f977a6d44817f370ad781aed774a2a79759827fd0c3255abb87575848a355a0068eb43b2958172f6c237352069d6cea.css integrity="sha512-VSU/3jSiUbAr3DvgUsr5BE+Xem1EgX83CteBrtd0oqeXWYJ/0MMlWruHV1hIo1WgBo60OylYFy9sI3NSBp1s6g=="><script type=text/javascript src=/js/appearance.min.badab316c9287a5a42a843e4eb45da65bb3d194a5a0f5fa4a3e516160e67df0b8c65f4f19a8e146436e29d583699e6cb41d6bbe99e05e1dbaa877763bad9f8e2.js integrity="sha512-utqzFskoelpCqEPk60XaZbs9GUpaD1+ko+UWFg5n3wuMZfTxmo4UZDbinVg2mebLQda76Z4F4duqh3djutn44g=="></script>
<script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.b607eb5ea0f48ef635db6a1c024a35eeff4529157e49461941aac333a158a1f71cae4e530d45ac010598695f823dbe38a63142757e37c2d7b74a309d7296f681.js integrity="sha512-tgfrXqD0jvY122ocAko17v9FKRV+SUYZQarDM6FYofccrk5TDUWsAQWYaV+CPb44pjFCdX43wte3SjCdcpb2gQ==" data-copy=Copy data-copied=Copied></script>
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta property="og:title" content="Linux support for the Dell XPS 13 9343 (2015 model)"><meta property="og:description" content="I&rsquo;M ALL DONE: I&rsquo;m not working on Linux compatibility for the XPS 13 any longer."><meta property="og:type" content="article"><meta property="og:url" content="https://major.io/2015/02/03/linux-support-dell-xps-13-9343-2015-model/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2015-02-03T15:23:24+00:00"><meta property="article:modified_time" content="2015-02-03T15:23:24+00:00"><meta property="og:site_name" content="ü§† Major Hayden"><meta name=twitter:card content="summary"><meta name=twitter:title content="Linux support for the Dell XPS 13 9343 (2015 model)"><meta name=twitter:description content="I&rsquo;M ALL DONE: I&rsquo;m not working on Linux compatibility for the XPS 13 any longer."><script type=application/ld+json>[{"@context":"https://schema.org","@type":"Article","articleSection":"Posts","name":"Linux support for the Dell XPS 13 9343 (2015 model)","headline":"Linux support for the Dell XPS 13 9343 (2015 model)","abstract":"I\u0026rsquo;M ALL DONE: I\u0026rsquo;m not working on Linux compatibility for the XPS 13 any longer.","inLanguage":"en","url":"https:\/\/major.io\/2015\/02\/03\/linux-support-dell-xps-13-9343-2015-model\/","author":{"@type":"Person","name":"Major Hayden"},"copyrightYear":"2015","dateCreated":"2015-02-03T15:23:24\u002b00:00","datePublished":"2015-02-03T15:23:24\u002b00:00","dateModified":"2015-02-03T15:23:24\u002b00:00","keywords":["dell","fedora","linux"],"mainEntityOfPage":"true","wordCount":"2757"}]</script><meta name=author content="Major Hayden"><link href=mailto:major@mhtx.net rel=me><link href=https://github.com/major rel=me><link href=https://gitlab.com/majorhayden rel=me><link href=https://linkedin.com/in/majorhayden rel=me><link href=https://t.me/majorhayden rel=me><link href=https://twitter.com/majorhayden rel=me></head><body class="flex flex-col h-screen px-6 m-auto text-lg leading-7 bg-neutral text-neutral-900 sm:px-14 md:px-24 lg:px-32 dark:bg-neutral-800 dark:text-neutral max-w-7xl"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 dark:bg-neutral-600 focus:translate-y-0" href=#main-content><span class="font-bold ltr:pr-2 rtl:pl-2 text-primary-600 dark:text-primary-400">&darr;</span>Skip to main content</a></div><header class="py-6 font-semibold sm:py-10 text-neutral-900 dark:text-neutral print:hidden"><nav class="flex justify-between"><div><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" rel=me href=/>ü§† Major Hayden</a></div><ul class="flex flex-col list-none ltr:text-right rtl:text-left sm:flex-row"><li class="mb-1 sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" href=/posts/ title=Posts>Blog</a></li><li class="mb-1 sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" href=/tags/ title=Tags>Tags</a></li><li class="mb-1 sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" href=/w5wut/ title="W5WUT: My amateur radio station">W5WUT</a></li><li class="mb-1 sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" href=/cv/ title="Major's CV">CV</a></li><li class="ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><button id=search-button class="text-base hover:text-primary-600 dark:hover:text-primary-400" title="Search (/)">
<span class="relative inline-block align-text-bottom icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></button></li></ul></nav></header><div class="relative flex flex-col grow"><main id=main-content class=grow><article><header class=max-w-prose><ol class="text-sm text-neutral-500 dark:text-neutral-400 print:hidden"><li class="inline hidden"><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/>ü§† Major Hayden</a><span class="px-1 text-primary-500">/</span></li><li class=inline><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/posts/>Posts</a><span class="px-1 text-primary-500">/</span></li><li class="inline hidden"><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/2015/02/03/linux-support-dell-xps-13-9343-2015-model/>Linux support for the Dell XPS 13 9343 (2015 model)</a><span class="px-1 text-primary-500">/</span></li></ol><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">Linux support for the Dell XPS 13 9343 (2015 model)</h1><div class="mt-8 mb-12 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime="2015-02-03 15:23:24 +0000 UTC">3 February 2015</time><span class="px-2 text-primary-500">&#183;</span><span>2757 words</span><span class="px-2 text-primary-500">&#183;</span><span title="Reading time">13 mins</span></div><div class="my-1 text-xs text-neutral-500 dark:text-neutral-400"><a href=/tags/dell/ class="px-1 py-[1px] border rounded-md border-neutral-200 dark:border-neutral-600 hover:border-primary-300 hover:text-primary-700 dark:hover:border-primary-600 dark:hover:text-primary-400">dell</a>
<a href=/tags/fedora/ class="px-1 py-[1px] border rounded-md border-neutral-200 dark:border-neutral-600 hover:border-primary-300 hover:text-primary-700 dark:hover:border-primary-600 dark:hover:text-primary-400">fedora</a>
<a href=/tags/linux/ class="px-1 py-[1px] border rounded-md border-neutral-200 dark:border-neutral-600 hover:border-primary-300 hover:text-primary-700 dark:hover:border-primary-600 dark:hover:text-primary-400">linux</a></div></div></header><section class="flex flex-col max-w-full mt-0 prose lg:flex-row dark:prose-invert"><div class="order-first px-0 lg:max-w-xs ltr:lg:pl-8 rtl:lg:pr-8 lg:order-last"><div class="ltr:pl-5 rtl:pr-5 toc lg:sticky lg:top-10 print:hidden"><details open class="mt-0 overflow-hidden rounded-lg rtl:pr-5 ltr:pl-5 ltr:-ml-5 rtl:-mr-5"><summary class="block py-1 text-lg font-semibold cursor-pointer rtl:pr-5 ltr:pl-5 ltr:-ml-5 rtl:-mr-5 text-neutral-800 dark:text-neutral-100 lg:hidden bg-neutral-100 dark:bg-neutral-700">Table of Contents</summary><div class="py-2 border-dotted ltr:border-l rtl:border-r rtl:pr-5 ltr:pl-5 ltr:-ml-5 rtl:-mr-5 border-neutral-300 dark:border-neutral-600"><nav id=TableOfContents><ul><li><ul><li><a href=#the-good>The good</a></li><li><a href=#the-bad>The bad</a></li><li><a href=#the-ugly>The ugly</a></li><li><a href=#what-now>What now?</a></li><li><a href=#latest-updates>Latest updates</a><ul><li><ul><li><a href=#2015-02-03>2015-02-03</a></li><li><a href=#2015-02-05>2015-02-05</a></li><li><a href=#2015-02-06>2015-02-06</a></li><li><a href=#2015-02-07>2015-02-07</a></li><li><a href=#2015-02-10>2015-02-10</a></li><li><a href=#2015-02-11>2015-02-11</a></li><li><a href=#2015-02-12>2015-02-12</a></li></ul></li></ul></li></ul></li></ul></nav></div></details></div></div><div class="min-w-0 min-h-0 max-w-prose"><p><figure><img class="my-0 rounded-md" src=https://major.io/wp-content/uploads/2015/02/dellXPS13-9343_2.jpg alt=1></figure></p><p><em><span style=color:#d42020><b>I&rsquo;M ALL DONE:</b></span> I&rsquo;m not working on Linux compatibility for the XPS 13 any longer. I&rsquo;ve purchased a Lenovo X1 Carbon (3rd gen) and that&rsquo;s my preferred laptop. More on this change later.</em></p><hr><p>I&rsquo;ve been looking for a good laptop to run Linux for a while now and my new Dell XPS 13 9343 has arrived. It was released at CES in 2015 and it received quite a lot of attention for packing a large amount of pixels into a very small laptop frame with excellent battery life. Ars Technica has a <a href=http://arstechnica.com/gadgets/2015/01/hands-on-dell-xps-13-packs-a-13-inch-screen-into-an-11-inch-laptop/>great overall review</a> of the device.</p><p>Linux support has been historically good on the previous generation XPS 13&rsquo;s and a <a href=http://en.community.dell.com/techcenter/b/techcenter/archive/2015/01/27/you-asked-for-it-ubuntu-officially-on-the-precision-m3800-worldwide>blog post from Dell</a> suggests that the latest revision will have good support as well. For a deep dive on the hardware inside the laptop, review <a href=https://gist.github.com/semenko/60015029e13c1de65ff6>this GitHub Gist</a>.</p><p>After wiping Windows 8.1 off the laptop, I started with the Fedora 21 installation. If you want to run Linux on one of these laptops, here&rsquo;s what you need to know:</p><h2 id=the-good class="relative group">The good <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#the-good aria-label=Anchor>#</a></span></h2><p>All of the most basic devices work just fine. The display, storage, and peripheral connections (USB, SD card slot, mini DisplayPort) all work out of the box in Linux 3.18.5 with Fedora 21. The display looks great with GNOME 3&rsquo;s default HiDPI settings and it&rsquo;s very readable with the default font sizes without HiDPI (although this is a bit subjective).</p><p>The webcam works without any additional configuration the video quality is excellent.</p><p>The wireless card in the laptop I received is a BCM4352:</p><pre tabindex=0><code>02:00.0 Network controller: Broadcom Corporation BCM4352 802.11ac Wireless Network Adapter (rev 03)
</code></pre><p>It&rsquo;s possible to get this card working with the b43 kernel modules but I&rsquo;ve had better luck with the binary blob STA drivers from Broadcom. There are <a href=http://www.cyberciti.biz/faq/fedora-linux-install-broadcom-wl-sta-wireless-driver-for-bcm43228/>plenty of guides</a> out there to help you install the kernel module for your Fedora kernel. I&rsquo;ve had great network performance with the binary driver.</p><p>Some users are seeing Intel wireless cards in their Dell XPS 13&rsquo;s, especially in Europe. Opening the laptop for service <a href=http://www.myfixguide.com/manual/dell-xps-13-9343-disassembly/>isn&rsquo;t terribly difficult</a> and you could replace the bluetooth/wireless card with a different one.</p><p><strong>PRO TIP:</strong> If you&rsquo;re seeing errors in your journald logs about NetworkManager being unable to scan for access points, be sure to hit the wireless switch key on your keyboard (Fn-F12) to enable the card. This had me stumped for about 45 minutes. There&rsquo;s an option in the BIOS to disable the switch and let the OS control the wireless card.</p><p>The special keyboard buttons (volume up/down, brightness up/down) all work flawlessly.</p><h2 id=the-bad class="relative group">The bad <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#the-bad aria-label=Anchor>#</a></span></h2><p>The touchpad and keyboard are on the I2C bus and this creates some problems. Many users have reported that keys on the keyboard seem to repeat themselves while you&rsquo;re typing and the touchpad has an issue where X stops receiving input from it. However, when the touchpad seems to freeze, the kernel still sees data coming from the device (verified with evtest and evemu-record).</p><p>There are some open bugs and discussion about the touchpad issues:</p><ul><li><a href=http://www.reddit.com/r/linux/comments/2u0jjd/linux_support_is_terrible_on_the_new_dell_xps_13/>Linux Support is Terrible on the New Dell XPS 13 (2015)</a> [Reddit]</li><li><a href=https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1416601>touchpad does not respond to tap-to-clicks in I2C mode in Ubuntu 15.04 on 2015 XPS 13 (9343)</a> [Launchpad Bug]</li><li><a href="https://bugzilla.redhat.com/show_bug.cgi?id=1188439">Dell XPS 13 9343 (2015) touchpad freeze</a> [Red Hat Bug]</li></ul><p>You can connect up a mouse and keyboard to the laptop and work around those issues. However, dragging around some big peripherals with such a small laptop isn&rsquo;t a great long-term solution. Some users suggested blacklisting the i2c_hid module so that the touchpad shows up as a plain PS/2 touchpad but I&rsquo;m still seeing freezes even after making that change.</p><p>If you&rsquo;re having one of those ‚Äútouchpad on the I2C bus?‚Äù moments like I had, read Synaptics&rsquo; <a href=http://www.synaptics.com/en/intertouch.php>brief page about Intertouch</a>. Using the I2C bus saves power, reduces USB port consumption, and allows for more powerful multi-touch gestures.</p><p>Oddly enough, the touchscreen is an ELAN Touchscreen and it runs over USB. It suffers from the same freezes that the touchpad does.</p><h2 id=the-ugly class="relative group">The ugly <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#the-ugly aria-label=Anchor>#</a></span></h2><p>Sound is a big problem. The microphone, speakers and headphone port don&rsquo;t work under 3.18.5 and 3.19.0-rc7. The audio device is a ALC3263 from RealTek and it should use the same module as the RT286. However, the probing still fails and the module can&rsquo;t be used. The <a href=https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1413446/comments/13>module code</a> seems to be correct but the probing still fails.</p><p>There&rsquo;s an open bug on Launchpad about the problem:</p><ul><li><a href=https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1413446>Audio broken on 2015 XPS 13 (9343) in I2S mode in Ubuntu 14.10/15.04</a> [Launchpad bug]</li><li><a href="https://bugzilla.redhat.com/show_bug.cgi?id=1188741">No sound on Dell XPS 13 9343 (2015 model)</a> [Red Hat bug]</li><li><a href="https://bugzilla.kernel.org/show_bug.cgi?id=93361">broadwell-audio: rt286 device appears, no sound (Dell XPS 13 9343)</a> [Linux kernel bug]</li></ul><p>I connected up an old Syba USB audio device to the USB port and was able to get sound immediately. This is also a horrible workaround.</p><h2 id=what-now class="relative group">What now? <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#what-now aria-label=Anchor>#</a></span></h2><p>From what I gather, Dell is extremely eager to make Linux work on the new XPS 13 and we should see some movement on these bugs soon. I&rsquo;m still doing a bunch of testing on my own with kernel 3.19 and I&rsquo;ll be keeping this page updated as news becomes available.</p><p>If you know much about the I2C bus or about the sound devices in this laptop and you have some time available to help, just let me know where to send the beer. ;)</p><h2 id=latest-updates class="relative group">Latest updates <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#latest-updates aria-label=Anchor>#</a></span></h2><h4 id=2015-02-03 class="relative group">2015-02-03 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#2015-02-03 aria-label=Anchor>#</a></span></h4><p>Added Red Hat bug link for sound issues.</p><h4 id=2015-02-05 class="relative group">2015-02-05 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#2015-02-05 aria-label=Anchor>#</a></span></h4><p>The touchpad bug has been reduced to a kernel issue. Recordings from evemu-record look fine when they&rsquo;re played back in X. Users reported in Launchpad and in the Red Hat bug that kernel 3.16 works perfectly but 3.17 doesn&rsquo;t. A kernel bisection will most likely be required to find the patch that broke the touchpad.</p><p>Many users find that adding <code>acpi.os="!Windows 2013"</code> to the kernel boot line will bring the audio card online after 1-3 reboots. Apparently there is some level of state information stored in memory that requires a few reboots to clear it. I haven&rsquo;t verified this yet.</p><h4 id=2015-02-06 class="relative group">2015-02-06 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#2015-02-06 aria-label=Anchor>#</a></span></h4><p>Kernel bisect for the touchpad issue is underway. Every 3.16.x kernel I built would keep the trackpad in PS/2 mode and that&rsquo;s not helpful at all. There&rsquo;s no multi-finger taps/clicks/gestures. 3.17.0 works perfectly, however. My gut says something broke down between 3.17.0 and 3.18.0 but it might actually be closer to 3.17.4 since Fedora 21&rsquo;s initial kernel is 3.17.4 (and the touchpad doesn&rsquo;t work well with it).</p><p>A post was made on <a href=http://bartongeorge.net/2015/02/05/update-dell-xps-13-laptop-developer-edition-sputnik-gen-4/>Barton&rsquo;s Blog</a> yesterday about Dell being aware of the Linux issues. <em>(Thanks to Chris&rsquo; comment below!)</em></p><p>After about 35 kernel builds during the most frustrating git bisect of my life, I found the <a href="https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=d1c7e29e8d276c669e8790bb8be9f505ddc48888">problematic patch</a>. The <a href="https://bugzilla.redhat.com/show_bug.cgi?id=1188439#c25">Red Hat bug</a> is updated now and I&rsquo;m hoping that someone with a detailed knowledge of this part of the kernel can make sense of it:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-diff data-lang=diff><span class=line><span class=cl>From d1c7e29e8d276c669e8790bb8be9f505ddc48888 Mon Sep 17 00:00:00 2001
</span></span><span class=line><span class=cl>From: Gwendal Grignou &lt;gwendal@chromium.org&gt;
</span></span><span class=line><span class=cl>Date: Thu, 11 Dec 2014 16:02:45 -0800
</span></span><span class=line><span class=cl>Subject: HID: i2c-hid: prevent buffer overflow in early IRQ
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Before -&gt;start() is called, bufsize size is set to HID_MIN_BUFFER_SIZE,
</span></span><span class=line><span class=cl>64 bytes. While processing the IRQ, we were asking to receive up to
</span></span><span class=line><span class=cl>wMaxInputLength bytes, which can be bigger than 64 bytes.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Later, when -&gt;start is run, a proper bufsize will be calculated.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Given wMaxInputLength is said to be unreliable in other part of the
</span></span><span class=line><span class=cl>code, set to receive only what we can even if it results in truncated
</span></span><span class=line><span class=cl>reports.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Signed-off-by: Gwendal Grignou &lt;gwendal@chromium.org&gt;
</span></span><span class=line><span class=cl>Reviewed-by: Benjamin Tissoires &lt;benjamin.tissoires@redhat.com&gt;
</span></span><span class=line><span class=cl>Cc: stable@vger.kernel.org
</span></span><span class=line><span class=cl>Signed-off-by: Jiri Kosina &lt;jkosina@suse.cz&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=gh>diff --git a/drivers/hid/i2c-hid/i2c-hid.c b/drivers/hid/i2c-hid/i2c-hid.c
</span></span></span><span class=line><span class=cl><span class=gh>index 747d544..9c014803b4 100644
</span></span></span><span class=line><span class=cl><span class=gh></span><span class=gd>--- a/drivers/hid/i2c-hid/i2c-hid.c
</span></span></span><span class=line><span class=cl><span class=gd></span><span class=gi>+++ b/drivers/hid/i2c-hid/i2c-hid.c
</span></span></span><span class=line><span class=cl><span class=gi></span><span class=gu>@@ -369,7 +369,7 @@ static int i2c_hid_hwreset(struct i2c_client *client)
</span></span></span><span class=line><span class=cl><span class=gu></span> static void i2c_hid_get_input(struct i2c_hid *ihid)
</span></span><span class=line><span class=cl> {
</span></span><span class=line><span class=cl> 	int ret, ret_size;
</span></span><span class=line><span class=cl><span class=gd>-	int size = le16_to_cpu(ihid-&gt;hdesc.wMaxInputLength);
</span></span></span><span class=line><span class=cl><span class=gd></span><span class=gi>+	int size = ihid-&gt;bufsize;
</span></span></span><span class=line><span class=cl><span class=gi></span>
</span></span><span class=line><span class=cl> 	ret = i2c_master_recv(ihid-&gt;client, ihid-&gt;inbuf, size);
</span></span><span class=line><span class=cl> 	if (ret != size) {
</span></span></code></pre></div><p>I reverted the patch in Linux 3.19-rc7 and built the kernel. The touchpad works flawlessly. However, simply reverting the patch probably isn&rsquo;t the best idea long term. ;)</p><h4 id=2015-02-07 class="relative group">2015-02-07 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#2015-02-07 aria-label=Anchor>#</a></span></h4><p>The <a href=https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1413446/+attachment/4313687/+files/rt288.patch>audio patch</a> mentioned in the <a href=https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1413446#30>Launchpad bug report</a> didn&rsquo;t work for me on Linux 3.19-rc7.</p><h4 id=2015-02-10 class="relative group">2015-02-10 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#2015-02-10 aria-label=Anchor>#</a></span></h4><p>Progress is still being made on the touchpad in the <a href="https://bugzilla.redhat.com/show_bug.cgi?id=1188439#c25">Red Hat bug</a> ticket. If you can live with the pad working as PS/2, you can get sound by adding <code>acpi_osi="!Windows 2013"</code> to your kernel command line. Once you do that, you&rsquo;ll need to:</p><ol><li>Do a warm reboot</li><li>Wait for the OS to boot, then do a full poweroff</li><li>Boot the laptop, then do a full poweroff</li><li>Sound should now be working</li></ol><p>If sound still isn&rsquo;t working, you may need to install <code>pavucontrol</code>, the PulseAudio volume controller, and disable the HDMI sound output that is built into the Broadwell chip.</p><p>This obviously isn&rsquo;t a long-term solution, but it&rsquo;s a fair workaround.</p><h4 id=2015-02-11 class="relative group">2015-02-11 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#2015-02-11 aria-label=Anchor>#</a></span></h4><p>There is now a <a href="https://bugzilla.redhat.com/attachment.cgi?id=990188">patch</a> that you can apply to 3.18 or 3.19 kernels that eliminates the trackpad freeze:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-diff data-lang=diff><span class=line><span class=cl>From 2a2aa272447d0ad4340c73db91bd8e995f6a0c3f Mon Sep 17 00:00:00 2001
</span></span><span class=line><span class=cl>From: Benjamin Tissoires &lt;benjamin.tissoires@redhat.com&gt;
</span></span><span class=line><span class=cl>Date: Tue, 10 Feb 2015 12:40:13 -0500
</span></span><span class=line><span class=cl>Subject: [PATCH] HID: multitouch: force release of touches when i2c
</span></span><span class=line><span class=cl> communication is not reliable
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>The Dell XPS 13 9343 (2015) shows that from time to time, i2c_hid misses
</span></span><span class=line><span class=cl>some reports from the touchpad. This can lead to a freeze of the cursor
</span></span><span class=line><span class=cl>in user space when the missing report contains a touch release information.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Win 8 devices should have a contact count reliable, to we can safely
</span></span><span class=line><span class=cl>release all touches that has not been seen in the current report.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Signed-off-by: Benjamin Tissoires &lt;benjamin.tissoires@redhat.com&gt;
</span></span><span class=line><span class=cl><span class=gd>---
</span></span></span><span class=line><span class=cl><span class=gd></span> drivers/hid/hid-multitouch.c | 8 ++++++++
</span></span><span class=line><span class=cl> 1 file changed, 8 insertions(+)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=gh>diff --git a/drivers/hid/hid-multitouch.c b/drivers/hid/hid-multitouch.c
</span></span></span><span class=line><span class=cl><span class=gh>index f65e78b..48b051e 100644
</span></span></span><span class=line><span class=cl><span class=gh></span><span class=gd>--- a/drivers/hid/hid-multitouch.c
</span></span></span><span class=line><span class=cl><span class=gd></span><span class=gi>+++ b/drivers/hid/hid-multitouch.c
</span></span></span><span class=line><span class=cl><span class=gi></span><span class=gu>@@ -1021,6 +1021,14 @@ static int mt_probe(struct hid_device *hdev, const struct hid_device_id *id)
</span></span></span><span class=line><span class=cl><span class=gu></span> 	if (id-&gt;vendor == HID_ANY_ID &amp;&amp; id-&gt;product == HID_ANY_ID)
</span></span><span class=line><span class=cl> 		td-&gt;serial_maybe = true;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=gi>+	if ((id-&gt;group == HID_GROUP_MULTITOUCH_WIN_8) &amp;&amp; (hdev-&gt;bus == BUS_I2C))
</span></span></span><span class=line><span class=cl><span class=gi>+		/*
</span></span></span><span class=line><span class=cl><span class=gi>+		 * Some i2c sensors are not completely reliable with the i2c
</span></span></span><span class=line><span class=cl><span class=gi>+		 * communication. Force release of unseen touches in a report
</span></span></span><span class=line><span class=cl><span class=gi>+		 * to prevent bad behavior from user space.
</span></span></span><span class=line><span class=cl><span class=gi>+		 */
</span></span></span><span class=line><span class=cl><span class=gi>+		td-&gt;mtclass.quirks |= MT_QUIRK_NOT_SEEN_MEANS_UP;
</span></span></span><span class=line><span class=cl><span class=gi>+
</span></span></span><span class=line><span class=cl><span class=gi></span> 	ret = hid_parse(hdev);
</span></span><span class=line><span class=cl> 	if (ret != 0)
</span></span><span class=line><span class=cl> 		return ret;
</span></span></code></pre></div><p>I&rsquo;ve tested it against 3.19-rc7 as well as Fedora&rsquo;s 3.18.5. However, tapping still doesn&rsquo;t work yet with more than one finger. The touchpad jumps around a bit when you apply two fingers to it.</p><h4 id=2015-02-12 class="relative group">2015-02-12 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#2015-02-12 aria-label=Anchor>#</a></span></h4><p>Rene commented below that he <a href=http://mailman.alsa-project.org/pipermail/alsa-devel/2015-February/087462.html>found a post in alsa devel with a patch</a> for the ‚ÄúDell Dino‚Äù that looks like it might help with the i2c audio issues. Another kernel maintainer replied and asked for some of the code to be rewritten to make it easier to handle audio quirks. UPDATE: Audio patch didn&rsquo;t work.</p><p>We&rsquo;ve created an IRC channel on Freenode: #xps13.</p><p>There&rsquo;s an interesting <a href="https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=2cc3f2347022969f00a429951ce489d35a9b4ea8">kernel patch mentioning ‚ÄúDell Dino‚Äù</a> that is line for inclusion in 3.20-rc1. Someone in IRC found ‚ÄúDell Dino‚Äù mentioned on a <a href=http://www.dell.com/us/business/p/xps-13-9343-laptop/fs>Dell business purchase page</a>. The board name from dmidecode in the patch is <strong>0144P8</strong> but that doesn&rsquo;t match other known board names. My i5-5200U with touch is <strong>0TM99H</strong> while a user with a non-touch i5 has a board name of <strong>OTRX4F</strong>. Other i5 touch models have the same board name as mine. All BIOS revisions found so far are A00 (the latest on Dell&rsquo;s site).</p><p>A probe for the rt286 module looks like it starts to happen and then it fails (skip to line 795):</p><pre tabindex=0><code>[    4.141189] rt286 i2c-INT343A:00: probe
[    4.141245] i2c i2c-8: master_xfer[0] W, addr=0x1c, len=4
[    4.141246] i2c i2c-8: master_xfer[1] R, addr=0x1c, len=4
[    4.141249] i2c_designware INT3432:00: i2c_dw_xfer: msgs: 2
[    4.141389] i2c_designware INT3432:00: Standard-mode HCNT:LCNT = 432:507
[    4.141391] i2c_designware INT3432:00: Fast-mode HCNT:LCNT = 72:160
[    4.141662] i2c_designware INT3432:00: i2c_dw_isr:  Synopsys DesignWare I2C adapter enabled= 0x1 stat=0x10
[    4.141670] i2c_designware INT3433:00: i2c_dw_isr:  Synopsys DesignWare I2C adapter enabled= 0x1 stat=0x0
[    4.141695] i2c_designware INT3432:00: i2c_dw_isr:  Synopsys DesignWare I2C adapter enabled= 0x1 stat=0x750
[    4.141703] i2c_designware INT3433:00: i2c_dw_isr:  Synopsys DesignWare I2C adapter enabled= 0x1 stat=0x0
[    4.141965] i2c_designware INT3432:00: i2c_dw_handle_tx_abort: slave address not acknowledged (7bit mode)
[    4.141968] rt286 i2c-INT343A:00: Device with ID register 0 is not rt286
[    4.160506] i2c-core: driver [rt286] registered
</code></pre><p><strong><a name=2015-02-16>2015-02-16</a></strong></p><p>I received an email from a Realtek developer about the sound card in the XPS:</p><blockquote><p>I see ‚Äúrt286 i2c-INT343A:00: Device with ID register 0 is not rt286‚Äù in the log. It means there are something wrong when the driver is trying to read the device id of codec. I believe that is due to I2C read/write issue. ALC3263 is a dual mode (I2S and HDA) codec. And BIOS will decide which mode according to OS type. So, if you want to use i2s mode, you need to configure your BIOS to set ALC3263 to I2S mode.</p></blockquote><p>After poring through the <a href=https://github.com/major/xps-13-9343-dsdt>DSDT and other ACPI tables</a> over the weekend (and building way too many kernels with overriden DSDT&rsquo;s), it sounds like a BIOS update may be required for the sound card to function properly. The <a href=https://github.com/major/xps-13-9343-dsdt/blob/master/DSDT.dsl#L8700>sound devices</a> specified in the DSDT that are on the i2c bus are only activated after a BUNCH of checks succeed. One of them is the check of <code>OSYS</code>, the system&rsquo;s operating system. Setting <code>acpi_osi="Windows 2013"</code> does flip <code>OSYS</code> to <code>0x07DD</code>, but that&rsquo;s only part of the fix. There are other variables checked, like <code>CODS</code> (that shows up very often) that are instantiated early in the DSDT but I can&rsquo;t find them ever being set to a value anywhere in the DSDT code. These variables equal zero by default and that disables critical parts of the sound device.</p><p>My take: This laptop is going to need a BIOS update of some sort before we can get sound working properly in Linux with an i2c touchpad. If someone is more skilled with DSDT&rsquo;s than I am, I&rsquo;ll be glad to share all of my work that I&rsquo;ve tried so far. As for now, I&rsquo;m going to be waiting eagerly for some type of firmware update from Dell.</p><p><strong><a name=2015-02-17>2015-02-17</a></strong></p><p>There&rsquo;s some progress on the sound card in Linux! After building the latest commits from <a href=https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/log/>linux.git&rsquo;s master branch</a>, my XPS started showing a device called ‚Äúbroadwell-rt286‚Äù in pavucontrol. It showed up as a normal audio device but it had no output support, only input. I tried to enable the microphone but I couldn&rsquo;t record any sound.</p><p>I found a <a href="https://bugzilla.kernel.org/show_bug.cgi?id=92061#c24">kernel bug</a> from a ThinkPad Helix 2 user with a very similar hardware setup. Their rt286 device is on the I2S bus with a Haswell SoC. Their fix was to copy over the latest firmware binaries from <a href=http://git.kernel.org/cgit/linux/kernel/git/firmware/linux-firmware.git>linux-firmware.git</a> and reboot. I did the same and an output device suddenly showed up in pavucontrol after a reboot.</p><p>When I played sounds via aplay, canberra-gtk-play, and rhythmbox, I could see the signal level fluctuating in pavucontrol on the broadwell-rt286 device. However, I couldn&rsquo;t hear the sound through the speakers. I connected headphones and I couldn&rsquo;t hear any sound there either.</p><p>There&rsquo;s now a <a href="https://bugzilla.kernel.org/show_bug.cgi?id=93361">kernel bug ticket</a> open for the sound issue.</p><p>Stay tuned for a BIOS update with a potential keyboard repeat fix. It&rsquo;s already been talked about in IRC as a potential A01 release sssssssssssoon:</p><blockquote><p>someone asked about the fix for the repeating keypresses. yes, it was traced back to the source and will be fixed on all affected Dell platforms soon</p></blockquote><blockquote><p>I just saw that the one for 9343 was promoted to our factories so should be up on support.dell.com any day now as BIOS A01</p></blockquote><p>You can get notifications about driver releases for the XPS on <a href=http://www.dell.com/support/home/us/en/04/product-support/product/xps-13-9343-laptop/drivers>Dell&rsquo;s site</a>.</p><p><strong><a name=2015-03-04>2015-03-04</a></strong></p><p><del datetime=2015-03-09T13:02:22+00:00>Sound on the I2S bus is working in Linux 4.0-rc2!</del> <em>See note from 2015-03-08 below.</em> I was too exhausted last night for a full write-up, but here&rsquo;s the gist of what I did:</p><p>First off, build 4.0-rc2 with all of the available I2C and ALSA SoC modules. I haven&rsquo;t narrowed down which modules are critical quite yet. Once you&rsquo;ve built the kernel and rebooted into it, run <code>alsamixer</code> and choose the <code>broadwell-rt286</code> card. Hold the right arrow key until you go all the way to the right of the alsamixer display and press M to unmute the last control there. You should now be able to turn up the volume and play some test sounds.</p><p>Luckily, no update for linux-firmware is required. Also, there&rsquo;s no need for any ALSA UCM files as I had originally thought.</p><p>Stay tuned for a more in-depth write-up soon.</p><p><strong><a name=2015-03-08>2015-03-08</a></strong></p><p>After a few more reboots, I can&rsquo;t get sound working again. I&rsquo;m wondering if I had an errant <code>acpi_osi</code> setting somewhere during my testing that brought sound up on the HDA bus. :/</p></div></section><footer class="pt-8 max-w-prose print:hidden"><div class=pt-8><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class="flex justify-between pt-3"><span><a class="flex group" href=/2015/01/08/helpful-low-fud-information-security-sites-mailing-lists-blogs/><span class="mr-3 ltr:inline rtl:hidden text-neutral-700 dark:text-neutral group-hover:text-primary-600 dark:group-hover:text-primary-400">&larr;</span>
<span class="ml-3 ltr:hidden rtl:inline text-neutral-700 dark:text-neutral group-hover:text-primary-600 dark:group-hover:text-primary-400">&rarr;</span>
<span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">Helpful, low-FUD information security sites, mailing lists, and blogs</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime="2015-01-08 13:55:43 +0000 UTC">8 January 2015</time></span></span></a></span>
<span><a class="flex text-right group" href=/2015/02/07/using-zoneminder-logitech-c270-webcam/><span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">Using ZoneMinder with a Logitech C270 webcam</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime="2015-02-08 04:04:08 +0000 UTC">8 February 2015</time></span></span>
<span class="ml-3 ltr:inline rtl:hidden text-neutral-700 dark:text-neutral group-hover:text-primary-600 dark:group-hover:text-primary-400">&rarr;</span>
<span class="mr-3 ltr:hidden rtl:inline text-neutral-700 dark:text-neutral group-hover:text-primary-600 dark:group-hover:text-primary-400">&larr;</span></a></span></div></div></footer></article><div class="absolute top-[100vh] ltr:right-0 rtl:left-0 w-12 pointer-events-none bottom-0"><a href=#the-top class="w-12 h-12 sticky pointer-events-auto top-[calc(100vh-5.5rem)] bg-neutral/50 dark:bg-neutral-800/50 backdrop-blur rounded-full text-xl flex items-center justify-center text-neutral-700 dark:text-neutral hover:text-primary-600 dark:hover:text-primary-400" aria-label="Scroll to top" title="Scroll to top">&uarr;</a></div></main><footer class="py-10 print:hidden"><div class="flex items-center justify-between"><div><p class="text-sm text-neutral-500 dark:text-neutral-400">All content licensed <a href=https://creativecommons.org/licenses/by-sa/4.0/>CC-BY-SA</a></p><p class="text-xs text-neutral-500 dark:text-neutral-400">Powered by <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://gohugo.io/ target=_blank rel="noopener noreferrer">Hugo</a> & <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://git.io/hugo-congo target=_blank rel="noopener noreferrer">Congo</a></p></div><div class="text-sm cursor-pointer text-neutral-700 dark:text-neutral hover:text-primary-600 dark:hover:text-primary-400 ltr:mr-14 rtl:ml-14"><button id=appearance-switcher class="w-12 h-12" type=button title="Switch to dark appearance">
<span class="inline dark:hidden"><span class="relative inline-block align-text-bottom icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></span><span class="hidden dark:inline"><span class="relative inline-block align-text-bottom icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></span></button></div></div></footer><div id=search-wrapper class="fixed inset-0 z-50 flex flex-col p-4 sm:p-6 md:p-[10vh] lg:p-[12vh] w-screen h-screen cursor-default bg-neutral-500/50 backdrop-blur-sm dark:bg-neutral-900/50 invisible" data-url=https://major.io/><div id=search-modal class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg border-neutral-200 top-20 bg-neutral dark:bg-neutral-800 dark:border-neutral-700"><header class="relative z-10 flex items-center justify-between flex-none px-2"><form class="flex items-center flex-auto min-w-0"><div class="flex items-center justify-center w-8 h-8 text-neutral-400"><span class="relative inline-block align-text-bottom icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></div><input type=search id=search-query class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-transparent focus:outline-2" placeholder=Search tabindex=0></form><button id=close-search-button class="flex items-center justify-center w-8 h-8 text-neutral-700 dark:text-neutral hover:text-primary-600 dark:hover:text-primary-400" title="Close (Esc)">
<span class="relative inline-block align-text-bottom icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentcolor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></button></header><section class="flex-auto px-2 overflow-auto"><ul id=search-results></ul></section></div></div></div></body></html>