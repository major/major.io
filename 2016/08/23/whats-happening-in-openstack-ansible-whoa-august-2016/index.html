<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content="Major Hayden"><meta name=description content="Welcome to the third post in the series of What&amp;rsquo;s Happening in OpenStack-Ansible (WHOA) posts that I&amp;rsquo;m assembling each month. OpenStack-Ansible is a flexible framework for deploying enterprise-grade OpenStack clouds. In fact, I use OpenStack-Ansible to deploy the OpenStack cloud underneath the virtual machine that runs this blog!
My goal with these posts is to inform more people about what we&amp;rsquo;re doing in the OpenStack-Ansible community and bring on more contributors to the project."><meta name=keywords content=",ansible,development,openstack,power,python,whoa"><meta name=robots content="noodp"><meta name=theme-color content><link rel=canonical href=https://major.io/2016/08/23/whats-happening-in-openstack-ansible-whoa-august-2016/><title>Whatâ€™s Happening in OpenStack-Ansible (WHOA) â€“ August 2016 :: Major Hayden ðŸ¤  â€” Words of wisdom from a social nerd</title><link href=https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css rel=stylesheet type=text/css><link rel=stylesheet href=../../../../main.89fa80e2143f71bd5c96a7c94e531dec3276a367e22f87e74a76026ab64680bf.css><link rel=apple-touch-icon sizes=180x180 href=../../../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../../../favicon-16x16.png><link rel=manifest href=../../../../site.webmanifest><link rel=mask-icon href=../../../../safari-pinned-tab.svg color=#252627><link rel="shortcut icon" href=../../../../favicon.ico><meta name=msapplication-TileColor content="#252627"><meta name=theme-color content="#252627"><meta itemprop=name content="Whatâ€™s Happening in OpenStack-Ansible (WHOA) â€“ August 2016"><meta itemprop=description content="Welcome to the third post in the series of What&rsquo;s Happening in OpenStack-Ansible (WHOA) posts that I&rsquo;m assembling each month. OpenStack-Ansible is a flexible framework for deploying enterprise-grade OpenStack clouds. In fact, I use OpenStack-Ansible to deploy the OpenStack cloud underneath the virtual machine that runs this blog!
My goal with these posts is to inform more people about what we&rsquo;re doing in the OpenStack-Ansible community and bring on more contributors to the project."><meta itemprop=datePublished content="2016-08-23T20:35:19+00:00"><meta itemprop=dateModified content="2016-08-23T20:35:19+00:00"><meta itemprop=wordCount content="1003"><meta itemprop=image content="https://major.io"><meta itemprop=keywords content="ansible,development,openstack,power,python,whoa,"><meta property="article:section" content="Blog Posts"><meta property="article:published_time" content="2016-08-23 20:35:19 +0000 UTC"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Whatâ€™s Happening in OpenStack-Ansible (WHOA) â€“ August 2016 :: Major Hayden ðŸ¤ "><meta name=twitter:description content><meta name=twitter:site content="https://major.io"><meta name=twitter:creator content="Major Hayden"><meta name=twitter:image content><style type=text/css>html{letter-spacing:unset}</style></head><body class=dark-theme><div class=container><header class=header><span class=header__inner><a href=../../../../ style=text-decoration:none><div class=logo><span class=logo__mark>></span>
<span class=logo__text>$ echo major.io</span>
<span class=logo__cursor style=visibility:hidden></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=../../../../ham-radio-faq>hamradio</a></li><li><a href=../../../../icanhazip-com-faq>icanhazip</a></li><li><a href=../../../../posts/>posts</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span><span class="theme-toggle unselectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 41C32.4934 41 41 32.4934 41 22 41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg></span></span></span></header><div class=content><main class=post><div class=post-info></p></div><article><h2 class=post-title><a href=https://major.io/2016/08/23/whats-happening-in-openstack-ansible-whoa-august-2016/>Whatâ€™s Happening in OpenStack-Ansible (WHOA) â€“ August 2016</a></h2><div class=post-content><p><a href=../../../../wp-content/uploads/2011/11/openstack-justheo.png></a>Welcome to the third post in the series of <a href=../../../../tag/whoa/>What&rsquo;s Happening in OpenStack-Ansible (WHOA)</a> posts that I&rsquo;m assembling each month. <a href=https://wiki.openstack.org/wiki/OpenStackAnsible>OpenStack-Ansible</a> is a flexible framework for deploying enterprise-grade <a href=http://openstack.org>OpenStack</a> clouds. In fact, I use OpenStack-Ansible to deploy the OpenStack cloud underneath the virtual machine that runs this blog!</p><p>My goal with these posts is to inform more people about what we&rsquo;re doing in the OpenStack-Ansible community and bring on more contributors to the project.</p><p>There are plenty of updates since the <a href=https://major.io/2016/07/22/whats-happening-in-openstack-ansible-whoa-july-2016/>last post from mid-July</a>. We&rsquo;ve had our Mid-cycle meeting and there are plenty of new improvements in flight.</p><h2 id=new-releases>New releases</h2><p>The OpenStack-Ansible releases are announced on the OpenStack development mailing list. Here are the things you need to know:</p><h3 id=liberty>Liberty</h3><p>The latest Liberty release, 12.2.1, contains lots of updates and fixes. There are plenty of <a href=https://gist.github.com/anonymous/6fafe3a92ba4f8d20b17d1688de29c03#neutron>neutron bug fixes</a> included in the release along with <a href=https://github.com/openstack/openstack-ansible/commit/5cb4b90b5c00f3c6db06249aea7db1d259723022>upgrade improvements</a>. Deployers also have the option to <a href=https://github.com/openstack/openstack-ansible/commit/bc0046b751a0c554903263ad6781485013c2b51d>block all container restarts</a> until they are ready to reboot containers during a maintenance window.</p><ul><li><a href=https://review.openstack.org/#/c/355513/>Version 12.2.1</a></li><li><a href=http://docs.openstack.org/releasenotes/openstack-ansible/liberty.html>Release notes</a></li><li><a href=https://gist.github.com/anonymous/6fafe3a92ba4f8d20b17d1688de29c03>Detailed changelog</a></li></ul><h3 id=mitaka>Mitaka</h3><p>Mitaka is the latest stable release available and the latest version is 13.3.1. This release also <a href=https://gist.github.com/anonymous/02e9e4ce95cb54e903876d6ddf13c1ad#neutron>brings in a bunch of neutron fixes</a> and several <a href=https://gist.github.com/anonymous/02e9e4ce95cb54e903876d6ddf13c1ad#openstack-ansible>&ldquo;behind the scenes&rdquo;</a> fixes for OpenStack-Ansible.</p><ul><li><a href=https://review.openstack.org/355509>Version 13.3.1</a></li><li><a href=http://docs.openstack.org/releasenotes/openstack-ansible/mitaka.html>Release notes</a></li><li><a href=https://gist.github.com/anonymous/02e9e4ce95cb54e903876d6ddf13c1ad>Detailed changelog</a></li></ul><h2 id=notable-discussions>Notable discussions</h2><p>This section covers discussions from the OpenStack-Ansible weekly meetings, IRC channels, mailing lists, or in-person events.</p><h3 id=mid-cycle-meeting>Mid-cycle meeting</h3><p>We had a great mid-cycle meeting at the Rackspace headquarters in San Antonio, Texas:</p><p>The meeting drew community members from various companies from all over the United States and the United Kingdom. We talked about the improvements we need to make in the remainder of the Newton cycle, including upgrades, documentation improvements, and new roles.</p><p>Here is a run-down of the biggest topics:</p><h4 id=install-guide-overhaul>Install guide overhaul</h4><p>The new install guide is quickly coming together and it&rsquo;s much easier to follow for newcomers. There is a big need now for detailed technical reviews to ensure that the new content is clear and accurate!</p><h4 id=ansible-21>Ansible 2.1</h4><p>The decision was made to bump each of the role repositories to Ansible 2.1 to match the integrated repository. It was noted that Ansible 2.2 will bring some performance improvements once it is released.</p><h4 id=ubuntu-1604-xenial-support>Ubuntu 16.04 Xenial Support</h4><p>This is a high priority for the remainder of the Newton cycle. The Xenial gate jobs will be switched to voting and Xenial failures will need to be dealt with before any additional patches will be merged.</p><h4 id=ubuntu-1404-trusty-support>Ubuntu 14.04 Trusty Support</h4><p>Many of the upstream OpenStack projects are removing 14.04 support soon and OpenStack-Ansible will drop 14.04 support in the Ocata release.</p><h4 id=power-cpu-support>Power CPU support</h4><p>There&rsquo;s already support for Power systems as hypervisors within OpenStack-Ansible now and IBM is testing mixed x86 and PPC environments now. However, we still need some way to test these mixed environments in the OpenStack gate tests. Two IBMers from the OpenStack-Ansible community are working with the infra team to find out how this can be</p><p>done.</p><h4 id=inventory-improvements>Inventory improvements</h4><p>The inventory generation process for OpenStack-Ansible is getting more tests and better documentation. Generating inventory is a difficult process to understand, but it is critical for the project&rsquo;s success.</p><h4 id=gnocchi--telemetry-improvements>Gnocchi / Telemetry improvements</h4><p>We got an update on gnocchi/ceilometer and set some plans on how to go forward with the OpenStack services and the data storage challenges that go along with each.</p><h3 id=mailing-list>Mailing list</h3><p>The OpenStack-Ansible tag was fairly quiet on the OpenStack Development mailing list during the time frame of this report, but there were a few threads:</p><ul><li><a href=http://lists.openstack.org/pipermail/openstack-dev/2016-August/100883.html>Adding RHEL 7 STIG to openstack-ansible-security</a></li><li><a href=http://lists.openstack.org/pipermail/openstack-dev/2016-August/101400.html>git repo in infra_repo container not working</a></li></ul><h3 id=blogs>Blogs</h3><p>Michael Gugino wrote about <a href=https://medium.com/@michaelgugino/deploying-nova-lxd-hypervisors-with-openstack-ansible-39525157879d#.ot5yb7rwt>deploying nova-lxd with OpenStack-Ansible</a>. This is one of the newest features in OpenStack-Ansible.</p><p>I <a href=https://major.io/2016/08/03/openstack-instances-come-online-with-multiple-network-ports-attached/>wrote one about an issue</a> that was really difficult to track down. I had instances coming online with multiple network ports attached when I only asked for one port. It turned out to be a glance issue that caused a problem in nova.</p><h2 id=notable-developments>Notable developments</h2><p>This section covers some of the improvements coming to Newton, the upcoming OpenStack release.</p><h3 id=bug-fixes>Bug fixes</h3><p>Services were logging to stderr and this caused some log messages to be logged multiple times on the same host. This ate up additional disk space and disk I/O performance. <a href=https://review.openstack.org/#/q/topic:bug/1588051>Topic</a></p><p>The xtrabackup utility causes crashes during certain situations when the <code>compact</code> option is used. <a href=https://review.openstack.org/#/q/topic:bug/1590166>Reviews</a></p><h3 id=dashboard>Dashboard</h3><p>LBaaS v2 panels were added to Newton and Mitaka. Ironic and Magnum panels were added to Newton.</p><h3 id=documentation>Documentation</h3><p>Plenty of work was merged towards improving the installation guide to make it more concise and easy to follow. <a href=https://review.openstack.org/#/q/project:%255Eopenstack/openstack-ansible-.*+branch:master+topic:bp/osa-install-guide-overhaul>Topic</a></p><h3 id=multi-architecture-support>Multi-Architecture support</h3><p>Repo servers can now build Python wheels for multiple architectures. This allows for mixed control/data plane environments, such as x86 (Intel) control planes with PPC (Power8) hypervisors running PowerKVM or PowerVM. <a href=https://review.openstack.org/#/c/346863/>Review</a></p><h3 id=performance-improvements>Performance improvements</h3><p>The repo servers now act as an apt repository cache, which helps improve the speed of deployments. This also helps with deployers who don&rsquo;t have an active internet connection in their cloud.</p><p>The repo servers now only build the wheels and virtual environments necessary for the services which are actually being deployed. This reduces the wait required while the wheels and virtual environments are built, but it also has an added benefit of reducing the disk space consumed. <a href=https://review.openstack.org/#/q/topic:repo-build-optimise>Topic</a></p><h3 id=upgrades>Upgrades</h3><p>The MariaDB restarts during upgrades are now handled more carefully to avoid disruptions from container restarts. <a href=https://review.openstack.org/#/c/354642/>Review</a></p><p>Deployers now have the option to choose if they want packages updated during a deployment or during an upgrade. There are per-role switches as well as a global switch that can be toggled. <a href=https://review.openstack.org/#/q/topic:package-install-state-option>Topic</a></p><h2 id=feedback>Feedback?</h2><p>The goal of this newsletter is three fold:</p><ul><li><p>Keep OpenStack-Ansible developers updated with new changes</p></li><li><p>Inform operators about new features, fixes, and long-term goals</p></li><li><p>Bring more people into the OpenStack-Ansible community to share their use</p><p>cases, bugs, and code</p></li></ul><p>Please let me know if you spot any errors, areas for improvement, or items that I missed altogether. I&rsquo;m <code>mhayden</code> on Freenode IRC and you can find me on <a href=https://twitter.com/majorhayden>Twitter</a> anytime.</p></div></article><hr><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=tag><a href=https://major.io/tags/ansible/>ansible</a></span>
<span class=tag><a href=https://major.io/tags/development/>development</a></span>
<span class=tag><a href=https://major.io/tags/openstack/>openstack</a></span>
<span class=tag><a href=https://major.io/tags/power/>power</a></span>
<span class=tag><a href=https://major.io/tags/python/>python</a></span>
<span class=tag><a href=https://major.io/tags/whoa/>whoa</a></span></p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder meta-icon"><path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/></svg><span class=tag><a href=https://major.io/categories/blog-posts/>Blog Posts</a></span></p></div></main></div><footer class=footer><div class=footer__inner><div class=footer__content><span>&copy; 2021</span>
<span><a href=https://major.io>Major Hayden</a></span>
<span><a href=https://creativecommons.org/licenses/by-sa/2.0/ target=_blank rel=noopener>CC BY-SA 2.0</a></span><span><a href=https://major.io/posts/index.xml target=_blank title=rss><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></span></div></div><div class=footer__inner><div class=footer__content><span>Powered by <a href=http://gohugo.io>Hugo</a></span>
<span>Made with &#10084; by <a href=https://github.com/rhazdon>Djordje Atlialp</a></span></div></div></footer></div><script type=text/javascript src=../../../../bundle.min.9dd6c4fd1eb55000d257db1269676cdb26bfcc9ab1b1dc8885a54f94b97fa86e6d72e435907d76f8662e0f65472e78ab8ad69c36624d8d4a96c04c42e029d957.js integrity="sha512-ndbE/R61UADSV9sSaWds2ya/zJqxsdyIhaVPlLl/qG5tcuQ1kH12+GYuD2VHLniritacNmJNjUqWwExC4CnZVw=="></script></body></html>